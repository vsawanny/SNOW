<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic">
    <sys_cs_topic action="INSERT_OR_UPDATE">
        <active>true</active>
        <applicability/>
        <cb_topic_id>f75e96e9db563300254285184b961917</cb_topic_id>
        <definition>{"id":"f75e96e9db563300254285184b961917","name":"Deploy Customer Services","vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"Deploy Customer Services","applicability":"","category":"","key_phrases":["Request Service","request","buy","item","catalog","purchase","order","need","require","pcf","deployment"],"variables":[{"name":"limit","type":"java.lang.Object","init_value":"5"},{"name":"count","type":"java.lang.Object","init_value":"0"},{"name":"results","type":"java.lang.Object"},{"name":"selected_title","type":"java.lang.Object"},{"name":"selected_link","type":"java.lang.Object"},{"name":"filter_tables","type":"java.lang.Object","init_value":"\"sc_cat_item_content,sc_cat_item_producer,sc_cat_item_wizard,std_change_record_producer,sc_cat_item_producer_service\""},{"name":"LiveAgent_application","type":"java.lang.Object","init_value":"\"itsm\""},{"name":"request_details","type":"java.lang.Object"},{"name":"selectedSysId","type":"java.lang.Object"},{"name":"noData_b6f28a043d284fc0a67ff5760f61b82c","type":"java.lang.Object"},{"name":"__multipart_total__99352e1417f942fb901f7f793524b45d","type":"java.lang.Object"},{"name":"__multipart_idx__99352e1417f942fb901f7f793524b45d","type":"java.lang.Object"},{"name":"__multipart_valid__99352e1417f942fb901f7f793524b45d","type":"java.lang.Object"},{"name":"__multipart_total__f9cddc03a21a448bae5d6702554957d2","type":"java.lang.Object"},{"name":"__multipart_idx__f9cddc03a21a448bae5d6702554957d2","type":"java.lang.Object"},{"name":"__multipart_valid__f9cddc03a21a448bae5d6702554957d2","type":"java.lang.Object"},{"name":"__segment_trigger_d308df64c6624cf8bd7ce11e5e6d8da1_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Picture","name":"catalog_item","unique":false,"key_phrases":[],"static_enum_list":[],"dynamic_enum_list":{"name":"catalog_item","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"name","isItemValue":false,"isPicture":false},{"name":"body","isItemValue":false,"isPicture":true}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.name) &amp;&amp; !gs.nil(option.body);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'name': 'no_data', 'body': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.name = !gs.nil(invalidOption.name) ? invalidOption.name : fixedOption.name;fixedOption.body = !gs.nil(invalidOption.body) ? invalidOption.body : fixedOption.body;}return fixedOption;}function buildNoOptionsArray() {return [{'value': 'no_data', 'name': 'no_data', 'body': 'no_data'},{'value': 'no_data', 'name': 'no_data', 'body': 'no_data'}];} function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var carouselOptions = [];var customApplies = true;if (!customApplies) {carouselOptions = buildNoOptionsArray();vaVars.noData_b6f28a043d284fc0a67ff5760f61b82c = true; return carouselOptions;}else {carouselOptions = (function execute() {\n    var results = JSON.parse(vaVars.results);\n    var baseURL = gs.getProperty('glide.servlet.uri');\n    var options = [];\n    for (var i=0; i&lt; results.length; i++) {\n        options.push(\n            {\n                'Name': results[i].title,\n                'Value': i + '',\n                'Body': baseURL + '/' + results[i].image\n            }\n        );\n    }\n    return options;\n})()\n;var noOptions = gs.nil(carouselOptions) || carouselOptions.length==0;if (!noOptions) {var invalidCount = 0;var normalizedCarouselOptions = [];for (var i = 0; i &lt; carouselOptions.length; i++) {normalizedCarouselOptions.push(normalizeKeys(carouselOptions[i]));}carouselOptions = normalizedCarouselOptions;for (var i = 0; i &lt; carouselOptions.length; i++) {if (!isValid(carouselOptions[i])) {invalidCount++;carouselOptions[i] = fixInvalid(carouselOptions[i]);}}noOptions = invalidCount === carouselOptions.length;}if (noOptions) {carouselOptions = buildNoOptionsArray();}vaVars.noData_b6f28a043d284fc0a67ff5760f61b82c = noOptions; return carouselOptions;}})();"}}},{"type":"String","name":"search_term","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"Boolean","name":"search_again","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"Boolean","name":"RootDecisionBranch_066e56e9f0563300b33e1e6b3eaba176","unique":false,"default_value":"true","key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Decision_6ce6be08d1c44b1c93402caa575fd0d0","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_0b6c10fd6b71467a9578cb2ff90d606b","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_2d3e42b4e62c453689bde5e911caa699","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_971b3cf3dcd44a5b98d97056c41699eb","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_OutputPrompt_719bbb7a68a8454186509f29fc8df1df","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_StartGoal_cf5d4bc4d9f14f45a46b145eb5e9b7d9","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_d3d84898afe84d5fb4c166a63acf54f6","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_OutputPrompt_5d91585ed0d742479139475f02b7bab5","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_c47310fcdd81453b83faf97374bbf9c7","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_TerminateGoal_943584c9190c4604914ad85d8a1f5186","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_1c52ebc9aa32445d89adaf138501c03b","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ImageOutputPrompt_80ee4793b68f4c03a12ae7768ef07bbf","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_RootDecisionBranch_c26e56e9455633002596b5fd2e7f3976","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ScriptOutputPrompt_99352e1417f942fb901f7f793524b45d","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_d362e473c7b54288a944fba8c68fb1cb","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Decision_3b3d6f11b13747edb2baa80a2339bc9c","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_fcb86e6e386d476da4c72b52f2042096","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_1e2f32fa60bc416cb2072fc07552e585","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_b4395ad8b1a14099940ca1ba37ac03c3","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Decision_985369256f8c4ffcb2e720357ba31eed","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ScriptOutputPrompt_f9cddc03a21a448bae5d6702554957d2","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_OutputPrompt_89f054abe27e469289de6ecede4ada9b","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Decision_RootDecision_826e56e98f56330022f6ae2841f8f876","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"static_enum_list":[]}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"Catalog Item Search","description":"Catalog Item Search","applicability":"vaVars.__segment_trigger_d308df64c6624cf8bd7ce11e5e6d8da1_done==false","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_066e56e9f0563300b33e1e6b3eaba176\");vaInputs.initialize(\"__silent_OutputPrompt_89f054abe27e469289de6ecede4ada9b\");vaInputs.initialize(\"__silent_Decision_RootDecision_826e56e98f56330022f6ae2841f8f876\");vaInputs.initialize(\"__silent_TerminateGoal_943584c9190c4604914ad85d8a1f5186\");vaInputs.initialize(\"__silent_ScriptedAction_2d3e42b4e62c453689bde5e911caa699\");vaInputs.initialize(\"search_again\");vaInputs.initialize(\"__silent_OutputPrompt_719bbb7a68a8454186509f29fc8df1df\");vaInputs.initialize(\"__silent_ScriptOutputPrompt_99352e1417f942fb901f7f793524b45d\");vaInputs.initialize(\"__silent_ScriptedAction_c47310fcdd81453b83faf97374bbf9c7\");vaInputs.initialize(\"__silent_Branch_1e2f32fa60bc416cb2072fc07552e585\");vaInputs.initialize(\"__silent_ScriptedAction_d362e473c7b54288a944fba8c68fb1cb\");vaInputs.initialize(\"__silent_StartGoal_cf5d4bc4d9f14f45a46b145eb5e9b7d9\");vaInputs.initialize(\"__silent_ImageOutputPrompt_80ee4793b68f4c03a12ae7768ef07bbf\");vaInputs.initialize(\"__silent_ScriptOutputPrompt_f9cddc03a21a448bae5d6702554957d2\");vaInputs.initialize(\"__silent_Branch_fcb86e6e386d476da4c72b52f2042096\");vaInputs.initialize(\"__silent_Branch_971b3cf3dcd44a5b98d97056c41699eb\");vaInputs.initialize(\"__silent_OutputPrompt_5d91585ed0d742479139475f02b7bab5\");vaInputs.initialize(\"__silent_Decision_985369256f8c4ffcb2e720357ba31eed\");vaInputs.initialize(\"__silent_Branch_1c52ebc9aa32445d89adaf138501c03b\");vaInputs.initialize(\"catalog_item\");vaInputs.initialize(\"search_term\");vaInputs.initialize(\"__silent_Branch_0b6c10fd6b71467a9578cb2ff90d606b\");vaInputs.initialize(\"__silent_Branch_d3d84898afe84d5fb4c166a63acf54f6\");vaInputs.initialize(\"__silent_Decision_6ce6be08d1c44b1c93402caa575fd0d0\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_c26e56e9455633002596b5fd2e7f3976\");vaInputs.initialize(\"__silent_Branch_b4395ad8b1a14099940ca1ba37ac03c3\");vaInputs.initialize(\"__silent_Decision_3b3d6f11b13747edb2baa80a2339bc9c\");null;","fields":[{"name":"__silent_Decision_RootDecision_826e56e98f56330022f6ae2841f8f876","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_Catalog Item Search___RootDecision_826e56e98f56330022f6ae2841f8f876\";vaInputs.__silent_Decision_RootDecision_826e56e98f56330022f6ae2841f8f876=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_Catalog Item Search___RootDecision_826e56e98f56330022f6ae2841f8f876\";vaInputs.RootDecisionBranch_066e56e9f0563300b33e1e6b3eaba176=true;null;"},{"name":"__silent_Branch_RootDecisionBranch_c26e56e9455633002596b5fd2e7f3976","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_Catalog Item Search___RootDecision_826e56e98f56330022f6ae2841f8f876\" &amp;&amp; ((vaInputs.RootDecisionBranch_066e56e9f0563300b33e1e6b3eaba176.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_c26e56e9455633002596b5fd2e7f3976___RootDecisionBranch_c26e56e9455633002596b5fd2e7f3976\";vaInputs.__silent_Branch_RootDecisionBranch_c26e56e9455633002596b5fd2e7f3976=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_c26e56e9455633002596b5fd2e7f3976___RootDecisionBranch_c26e56e9455633002596b5fd2e7f3976\";null;"},{"name":"__silent_StartGoal_cf5d4bc4d9f14f45a46b145eb5e9b7d9","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_c26e56e9455633002596b5fd2e7f3976___RootDecisionBranch_c26e56e9455633002596b5fd2e7f3976\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___cf5d4bc4d9f14f45a46b145eb5e9b7d9\";vaInputs.__silent_StartGoal_cf5d4bc4d9f14f45a46b145eb5e9b7d9=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Start___cf5d4bc4d9f14f45a46b145eb5e9b7d9\";null;"},{"name":"__silent_ScriptedAction_c47310fcdd81453b83faf97374bbf9c7","applicable":"vaVars.previous_graph_node==\"Search Term___9e9d3b6f79814f6f88d076b827b36fa5\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Contextual Search___c47310fcdd81453b83faf97374bbf9c7\";(function execute() {(function execute() {\n    var search_term = vaInputs.search_term;\n    var context = '6f7e3f565b30130070e4492c11f91aea';\n\n    var contextualSearch = new sn_itsm_va.VAContextualSearchUtil();\n    var response = contextualSearch.search(context, search_term);\n\n    var success = contextualSearch.processSearchResponse(response);\n    if (!success) {\n        vaVars.count = 0;\n        return '';\n    }\n\n    //Filter out any catalog items that should not be shown ie. Record Producers\n    //create a filterMap to quickly see if item can be shown to user\n    var filter_tables = vaVars.filter_tables.split(',');\n    var filterMap = {};\n    for (var i=0; i &lt; filter_tables.length; i++) {\n        filterMap[filter_tables[i]] = 'true';\n    }\n\n    var searchResults = response.results;\n    var results = [];\n    var count = 0;\n    for (var index=0; index &lt; searchResults.length &amp;&amp; count &lt; parseInt(vaVars.limit); index++) {\n        //Get sys_id of search result\n        var sys_id = searchResults[index].id.split(':')[1];\n        //Lookup item to find the tableName\n        var gr = new GlideRecord('sc_cat_item');\n        if (gr.get(sys_id)) {\n            var tableName = gr.getValue('sys_class_name');\n            //if the tableName is not found in filterMap, we can show it to user\n            if (filterMap[tableName] == undefined) {\n                results.push({\n                    'sys_id': sys_id,\n                    'title': searchResults[index].title,\n                    'image': searchResults[index].image.link\n                });\n                count++;\n            }\n        }\n    }\n\n    vaVars.count = results.length;\n    vaVars.results = JSON.stringify(results);\n\n    return '';\n})()\n;})();vaInputs.__silent_ScriptedAction_c47310fcdd81453b83faf97374bbf9c7=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Contextual Search___c47310fcdd81453b83faf97374bbf9c7\";null;"},{"name":"__silent_Decision_985369256f8c4ffcb2e720357ba31eed","applicable":"vaVars.previous_graph_node==\"Contextual Search___c47310fcdd81453b83faf97374bbf9c7\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___985369256f8c4ffcb2e720357ba31eed\";vaInputs.__silent_Decision_985369256f8c4ffcb2e720357ba31eed=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___985369256f8c4ffcb2e720357ba31eed\";null;"},{"name":"__silent_Branch_fcb86e6e386d476da4c72b52f2042096","applicable":"vaVars.previous_graph_node==\"Decision___985369256f8c4ffcb2e720357ba31eed\" &amp;&amp; (function execute() {\n    return parseInt(vaVars.count) &gt; 1;\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"More than One Item___fcb86e6e386d476da4c72b52f2042096\";vaInputs.__silent_Branch_fcb86e6e386d476da4c72b52f2042096=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"More than One Item___fcb86e6e386d476da4c72b52f2042096\";null;"},{"name":"__silent_Branch_1c52ebc9aa32445d89adaf138501c03b","applicable":"vaVars.previous_graph_node==\"Decision___985369256f8c4ffcb2e720357ba31eed\" &amp;&amp; (function execute() {\n    return parseInt(vaVars.count) == 1;\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Only One Item___1c52ebc9aa32445d89adaf138501c03b\";vaInputs.__silent_Branch_1c52ebc9aa32445d89adaf138501c03b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Only One Item___1c52ebc9aa32445d89adaf138501c03b\";null;"},{"name":"__silent_Branch_d3d84898afe84d5fb4c166a63acf54f6","applicable":"vaVars.previous_graph_node==\"Decision___985369256f8c4ffcb2e720357ba31eed\" &amp;&amp; (function execute() {\n    return parseInt(vaVars.count) == 0;\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"No Items Exist___d3d84898afe84d5fb4c166a63acf54f6\";vaInputs.__silent_Branch_d3d84898afe84d5fb4c166a63acf54f6=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"No Items Exist___d3d84898afe84d5fb4c166a63acf54f6\";null;"},{"name":"catalog_item","applicable":"vaVars.previous_graph_node==\"More than One Item___fcb86e6e386d476da4c72b52f2042096\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Catalog Item___6b67f32e2cca4cf98ba499868f2d50ee\";(function execute() {var promptMsg=null;if (vaVars.noData_b6f28a043d284fc0a67ff5760f61b82c==false) {promptMsg = gs.getMessage(gs.getMessage(\"Here’s what I have available.  You'll have a chance to confirm or cancel the order next.\"));}else {vaInputs.catalog_item=\"\";}return promptMsg;})();","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Catalog Item___6b67f32e2cca4cf98ba499868f2d50ee\";(function execute() {var acknowledgeMsg=gs.getMessage(\"No Records Found\");if (vaVars.noData_b6f28a043d284fc0a67ff5760f61b82c==false) {acknowledgeMsg = (function execute() {return null;})();}return acknowledgeMsg;})();"},{"name":"__silent_Decision_6ce6be08d1c44b1c93402caa575fd0d0","applicable":"vaVars.previous_graph_node==\"Only One Item___1c52ebc9aa32445d89adaf138501c03b\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6ce6be08d1c44b1c93402caa575fd0d0\";vaInputs.__silent_Decision_6ce6be08d1c44b1c93402caa575fd0d0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6ce6be08d1c44b1c93402caa575fd0d0\";null;"},{"name":"__silent_OutputPrompt_89f054abe27e469289de6ecede4ada9b","applicable":"vaVars.previous_graph_node==\"No Items Exist___d3d84898afe84d5fb4c166a63acf54f6\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"No Items Found___89f054abe27e469289de6ecede4ada9b\";vaInputs.__silent_OutputPrompt_89f054abe27e469289de6ecede4ada9b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"No Items Found___89f054abe27e469289de6ecede4ada9b\";(function execute() {return gs.getMessage(\"Sorry, but I couldn’t find any relevant items.\");})();"},{"name":"__silent_Branch_971b3cf3dcd44a5b98d97056c41699eb","applicable":"vaVars.previous_graph_node==\"Decision___6ce6be08d1c44b1c93402caa575fd0d0\" &amp;&amp; (function execute() {\n    var results = JSON.parse(vaVars.results);\n    return (results[0].image != '');\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Image Exists___971b3cf3dcd44a5b98d97056c41699eb\";vaInputs.__silent_Branch_971b3cf3dcd44a5b98d97056c41699eb=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Image Exists___971b3cf3dcd44a5b98d97056c41699eb\";null;"},{"name":"__silent_Branch_b4395ad8b1a14099940ca1ba37ac03c3","applicable":"vaVars.previous_graph_node==\"Decision___6ce6be08d1c44b1c93402caa575fd0d0\" &amp;&amp; (function execute() {\n    var results = JSON.parse(vaVars.results);\n    return (results[0].image == '');\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"No Image___b4395ad8b1a14099940ca1ba37ac03c3\";vaInputs.__silent_Branch_b4395ad8b1a14099940ca1ba37ac03c3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"No Image___b4395ad8b1a14099940ca1ba37ac03c3\";null;"},{"name":"__silent_ScriptedAction_2d3e42b4e62c453689bde5e911caa699","applicable":"(vaVars.previous_graph_node==\"Catalog Item___6b67f32e2cca4cf98ba499868f2d50ee\" || vaVars.previous_graph_node==\"Item Image___80ee4793b68f4c03a12ae7768ef07bbf\" || vaVars.previous_graph_node==\"No Image___b4395ad8b1a14099940ca1ba37ac03c3\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Set Selected Item___2d3e42b4e62c453689bde5e911caa699\";(function execute() {vaInputs.__silent_ScriptOutputPrompt_f9cddc03a21a448bae5d6702554957d2.reset();vaInputs.__silent_ScriptedAction_d362e473c7b54288a944fba8c68fb1cb.reset();vaInputs.__silent_Branch_0b6c10fd6b71467a9578cb2ff90d606b.reset();vaInputs.__silent_ScriptOutputPrompt_99352e1417f942fb901f7f793524b45d.reset();vaInputs.__silent_TerminateGoal_943584c9190c4604914ad85d8a1f5186.reset();vaInputs.search_again.reset();(function execute() {\n    var results = JSON.parse(vaVars.results);\n    var index = 0;\n    if (parseInt(vaVars.count) &gt; 1) {\n        index = parseInt(vaInputs.catalog_item);\n    }\n    vaVars.selected_title = results[index].title;\n    vaVars.selected_link = gs.getProperty('sn_itsm_va.com.snc.itsm.virtualagent.portal_url') + \n        '?id=sc_cat_item&amp;sys_id=' + results[index].sys_id;\n    vaVars.selectedSysId = results[index].sys_id;\n    return '';\n})()\n;vaInputs.__silent_OutputPrompt_5d91585ed0d742479139475f02b7bab5.reset();vaInputs.__silent_OutputPrompt_719bbb7a68a8454186509f29fc8df1df.reset();vaInputs.__silent_Branch_1e2f32fa60bc416cb2072fc07552e585.reset();vaInputs.__silent_Decision_3b3d6f11b13747edb2baa80a2339bc9c.reset();})();vaInputs.__silent_ScriptedAction_2d3e42b4e62c453689bde5e911caa699=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Set Selected Item___2d3e42b4e62c453689bde5e911caa699\";null;"},{"name":"__silent_Decision_3b3d6f11b13747edb2baa80a2339bc9c","applicable":"vaVars.previous_graph_node==\"Search Again___357d44e1387a47929025da6944137114\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___3b3d6f11b13747edb2baa80a2339bc9c\";vaInputs.__silent_Decision_3b3d6f11b13747edb2baa80a2339bc9c=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___3b3d6f11b13747edb2baa80a2339bc9c\";null;"},{"name":"__silent_ImageOutputPrompt_80ee4793b68f4c03a12ae7768ef07bbf","applicable":"vaVars.previous_graph_node==\"Image Exists___971b3cf3dcd44a5b98d97056c41699eb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Item Image___80ee4793b68f4c03a12ae7768ef07bbf\";vaInputs.__silent_ImageOutputPrompt_80ee4793b68f4c03a12ae7768ef07bbf=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Item Image___80ee4793b68f4c03a12ae7768ef07bbf\";vaInputs.__silent_ScriptedAction_2d3e42b4e62c453689bde5e911caa699.reset();(function execute() {var url=(function execute() {\n    var results = JSON.parse(vaVars.results);\n    var baseURL = gs.getProperty('glide.servlet.uri');\n    return baseURL + '/' + results[0].image;\n})()\n;return (function execute() {var outMsg = new sn_cs.SinglePartOutMsg();outMsg.setImagePart(url);return outMsg;})();})();"},{"name":"__silent_ScriptedAction_2d3e42b4e62c453689bde5e911caa699","applicable":"(vaVars.previous_graph_node==\"Catalog Item___6b67f32e2cca4cf98ba499868f2d50ee\" || vaVars.previous_graph_node==\"Item Image___80ee4793b68f4c03a12ae7768ef07bbf\" || vaVars.previous_graph_node==\"No Image___b4395ad8b1a14099940ca1ba37ac03c3\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Set Selected Item___2d3e42b4e62c453689bde5e911caa699\";(function execute() {vaInputs.__silent_ScriptOutputPrompt_f9cddc03a21a448bae5d6702554957d2.reset();vaInputs.__silent_ScriptedAction_d362e473c7b54288a944fba8c68fb1cb.reset();vaInputs.__silent_Branch_0b6c10fd6b71467a9578cb2ff90d606b.reset();vaInputs.__silent_ScriptOutputPrompt_99352e1417f942fb901f7f793524b45d.reset();vaInputs.__silent_TerminateGoal_943584c9190c4604914ad85d8a1f5186.reset();vaInputs.search_again.reset();(function execute() {\n    var results = JSON.parse(vaVars.results);\n    var index = 0;\n    if (parseInt(vaVars.count) &gt; 1) {\n        index = parseInt(vaInputs.catalog_item);\n    }\n    vaVars.selected_title = results[index].title;\n    vaVars.selected_link = gs.getProperty('sn_itsm_va.com.snc.itsm.virtualagent.portal_url') + \n        '?id=sc_cat_item&amp;sys_id=' + results[index].sys_id;\n    vaVars.selectedSysId = results[index].sys_id;\n    return '';\n})()\n;vaInputs.__silent_OutputPrompt_5d91585ed0d742479139475f02b7bab5.reset();vaInputs.__silent_OutputPrompt_719bbb7a68a8454186509f29fc8df1df.reset();vaInputs.__silent_Branch_1e2f32fa60bc416cb2072fc07552e585.reset();vaInputs.__silent_Decision_3b3d6f11b13747edb2baa80a2339bc9c.reset();})();vaInputs.__silent_ScriptedAction_2d3e42b4e62c453689bde5e911caa699=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Set Selected Item___2d3e42b4e62c453689bde5e911caa699\";null;"},{"name":"__silent_Decision_3b3d6f11b13747edb2baa80a2339bc9c","applicable":"vaVars.previous_graph_node==\"Search Again___357d44e1387a47929025da6944137114\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___3b3d6f11b13747edb2baa80a2339bc9c\";vaInputs.__silent_Decision_3b3d6f11b13747edb2baa80a2339bc9c=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___3b3d6f11b13747edb2baa80a2339bc9c\";null;"},{"name":"__silent_Branch_0b6c10fd6b71467a9578cb2ff90d606b","applicable":"vaVars.previous_graph_node==\"Decision___3b3d6f11b13747edb2baa80a2339bc9c\" &amp;&amp; (function execute() {\n    return vaInputs.search_again.getValue();\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Try Again___0b6c10fd6b71467a9578cb2ff90d606b\";vaInputs.__silent_Branch_0b6c10fd6b71467a9578cb2ff90d606b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Try Again___0b6c10fd6b71467a9578cb2ff90d606b\";vaInputs.search_term.reset();null;"},{"name":"__silent_Branch_1e2f32fa60bc416cb2072fc07552e585","applicable":"vaVars.previous_graph_node==\"Decision___3b3d6f11b13747edb2baa80a2339bc9c\" &amp;&amp; (function execute() {\n    return !vaInputs.search_again.getValue();\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Cancel___1e2f32fa60bc416cb2072fc07552e585\";vaInputs.__silent_Branch_1e2f32fa60bc416cb2072fc07552e585=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Cancel___1e2f32fa60bc416cb2072fc07552e585\";null;"},{"name":"__silent_Branch_0b6c10fd6b71467a9578cb2ff90d606b","applicable":"vaVars.previous_graph_node==\"Decision___3b3d6f11b13747edb2baa80a2339bc9c\" &amp;&amp; (function execute() {\n    return vaInputs.search_again.getValue();\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Try Again___0b6c10fd6b71467a9578cb2ff90d606b\";vaInputs.__silent_Branch_0b6c10fd6b71467a9578cb2ff90d606b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Try Again___0b6c10fd6b71467a9578cb2ff90d606b\";vaInputs.search_term.reset();null;"},{"name":"__silent_Branch_1e2f32fa60bc416cb2072fc07552e585","applicable":"vaVars.previous_graph_node==\"Decision___3b3d6f11b13747edb2baa80a2339bc9c\" &amp;&amp; (function execute() {\n    return !vaInputs.search_again.getValue();\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Cancel___1e2f32fa60bc416cb2072fc07552e585\";vaInputs.__silent_Branch_1e2f32fa60bc416cb2072fc07552e585=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Cancel___1e2f32fa60bc416cb2072fc07552e585\";null;"},{"name":"search_term","applicable":"(vaVars.previous_graph_node==\"Try Again___0b6c10fd6b71467a9578cb2ff90d606b\" || vaVars.previous_graph_node==\"Start___cf5d4bc4d9f14f45a46b145eb5e9b7d9\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Search Term___9e9d3b6f79814f6f88d076b827b36fa5\";(function execute() {vaInputs.__silent_Branch_fcb86e6e386d476da4c72b52f2042096.reset();vaInputs.__silent_ImageOutputPrompt_80ee4793b68f4c03a12ae7768ef07bbf.reset();vaInputs.__silent_Branch_0b6c10fd6b71467a9578cb2ff90d606b.reset();vaInputs.__silent_TerminateGoal_943584c9190c4604914ad85d8a1f5186.reset();vaInputs.__silent_Branch_b4395ad8b1a14099940ca1ba37ac03c3.reset();vaInputs.__silent_Branch_d3d84898afe84d5fb4c166a63acf54f6.reset();vaInputs.__silent_ScriptedAction_2d3e42b4e62c453689bde5e911caa699.reset();vaInputs.__silent_OutputPrompt_5d91585ed0d742479139475f02b7bab5.reset();vaInputs.__silent_ScriptedAction_c47310fcdd81453b83faf97374bbf9c7.reset();vaInputs.__silent_Decision_6ce6be08d1c44b1c93402caa575fd0d0.reset();vaInputs.__silent_Branch_1e2f32fa60bc416cb2072fc07552e585.reset();vaInputs.__silent_Decision_3b3d6f11b13747edb2baa80a2339bc9c.reset();vaInputs.__silent_ScriptOutputPrompt_f9cddc03a21a448bae5d6702554957d2.reset();vaInputs.__silent_ScriptedAction_d362e473c7b54288a944fba8c68fb1cb.reset();vaInputs.__silent_ScriptOutputPrompt_99352e1417f942fb901f7f793524b45d.reset();vaInputs.search_again.reset();vaInputs.__silent_Branch_971b3cf3dcd44a5b98d97056c41699eb.reset();vaInputs.catalog_item.reset();vaInputs.__silent_Branch_1c52ebc9aa32445d89adaf138501c03b.reset();vaInputs.__silent_Decision_985369256f8c4ffcb2e720357ba31eed.reset();vaInputs.__silent_OutputPrompt_89f054abe27e469289de6ecede4ada9b.reset();vaInputs.__silent_OutputPrompt_719bbb7a68a8454186509f29fc8df1df.reset();})();gs.getMessage(\"Please enter a short description of what you're looking for.\")","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Search Term___9e9d3b6f79814f6f88d076b827b36fa5\";null;"},{"name":"__silent_ScriptOutputPrompt_99352e1417f942fb901f7f793524b45d","applicable":"vaVars.previous_graph_node==\"Set Selected Item___2d3e42b4e62c453689bde5e911caa699\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"create request___99352e1417f942fb901f7f793524b45d\";vaInputs.__silent_ScriptOutputPrompt_99352e1417f942fb901f7f793524b45d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"create request___99352e1417f942fb901f7f793524b45d\";(function execute() {\n   return (function execute() {\n\n   // new cart\n\n   var realCart = getCart();\n\n   var cartID = realCart.sys_id;\n   //\"6abf29a3db4e3300254285184b96193f\"\n   addToCart(cartID, vaVars.selectedSysId, 1);\n   \n   doOrder();\n   gs.debug(\"catalog item: \"+ vaInputs.catalog_item);\n   \n   var change = new GlideRecordSecure('change_request');\n      change.get(vaInputs.create_change);\n      \n      var title = {\n            url: vaVars.base_url + 'nav_to.do?uri=change_request.do?sys_id=' + vaInputs.create_change, \n            label: change.getDisplayValue('number')\n      };\n\n      var fieldList = ['type', 'requested_by', 'category', 'cmdb_ci', 'priority', 'risk', 'impact', 'assignment_group'];\n      var cardRenderer = new global.VaRecordCardRenderer(true);\n      var fields = cardRenderer.createFields(fieldList, change);\n      var html = cardRenderer.renderCard(title, fields);\n      return html;\n\n\n\n   function addToCart(cartid, cat_item, quantity) {\n\n           var gr = new GlideRecord('sc_cart_item');\n\n           gr.initialize();\n           gr.cart = cartid;\n\n           gr.cat_item = cat_item;\n\n           gr.quantity = quantity;\n\n           gr.insert();\n\n   }\n\n   function addOptions(cartID) {\n\n           // Get the Cart Item\n\n           var kids = new GlideRecord('sc_cart_item');\n\n           kids.addQuery('cart', cartID);\n\n           kids.query();\n\n           if (kids.next()) {       \n\n                     // Look up the options for the item in the cart\n\n                     var options = new GlideRecord('item_option_new');\n\n                     options.addQuery('cat_item', kids.cat_item);\n\n                     options.query();\n\n                     // Add the appropriate Item Options\n\n                     while(options.next()) {\n\n                               var gr = new GlideRecord('sc_item_option');\n\n                               gr.initialize();\n\n                               if(options.question_text == \"Is this a replacement for a lost Blackberry device ?\") {\n\n                                         gr.item_option_new.setValue(options.sys_id);\n\n                                         gr.value = \"No\";\n\n                               }\n\n                               else if(options.question_text == \"If it is a replacement, what was the original phone number ?\") {\n\n                                         gr.item_option_new.setValue(options.sys_id);\n\n                                         gr.value = \"(858)345-1418\";\n\n                               }\n\n                               else if(options.question_text == \"Special Requirements\") {\n\n                                         gr.item_option_new.setValue(options.sys_id);\n\n                                         gr.value = \"Need UK charger attachment.\";\n\n                               }\n\n                               gr.cart_item.setValue(kids.sys_id);\n\n                               gr.insert();\n\n                     }\n\n             }\n\n   }\n\n   function nukeCart() {\n\n           var cart = getCart();\n\n           var id = cart.sys_id;\n\n           var kids = new GlideRecord('sc_cart_item');\n\n           kids.addQuery('cart', cart.sys_id);\n\n           kids.deleteMultiple();\n\n   }\n\n   function getCart() {\n\n           var cart = new GlideRecord('sc_cart');\n\n           var userid = gs.getUserID();\n        \n           cart.addQuery('user', userid);\n\n           cart.query();\n\n          // if (cart.next()) {\n\n                   // we already have a cart all is well\n                //cart.deleteMultiple();\n           //}\n\n           //else {         \n\n                   cart.initialize();\n\n                   cart.user = userid;\n                   cart.deleteMultiple();\n                   cart.insert();\n\n           //}\n\n        return cart;\n\n   }\n\n   function doOrder() {\n\n           var req = new GlideappRequestNew();\n          var response= req.copyCart();\n        gs.debug(response);\n        \n}\n})();\n})();"},{"name":"__silent_ScriptOutputPrompt_99352e1417f942fb901f7f793524b45d","applicable":"vaVars.previous_graph_node==\"Set Selected Item___2d3e42b4e62c453689bde5e911caa699\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"create request___99352e1417f942fb901f7f793524b45d\";vaInputs.__silent_ScriptOutputPrompt_99352e1417f942fb901f7f793524b45d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"create request___99352e1417f942fb901f7f793524b45d\";(function execute() {\n   return (function execute() {\n\n   // new cart\n\n   var realCart = getCart();\n\n   var cartID = realCart.sys_id;\n   //\"6abf29a3db4e3300254285184b96193f\"\n   addToCart(cartID, vaVars.selectedSysId, 1);\n   \n   doOrder();\n   gs.debug(\"catalog item: \"+ vaInputs.catalog_item);\n   \n   var change = new GlideRecordSecure('change_request');\n      change.get(vaInputs.create_change);\n      \n      var title = {\n            url: vaVars.base_url + 'nav_to.do?uri=change_request.do?sys_id=' + vaInputs.create_change, \n            label: change.getDisplayValue('number')\n      };\n\n      var fieldList = ['type', 'requested_by', 'category', 'cmdb_ci', 'priority', 'risk', 'impact', 'assignment_group'];\n      var cardRenderer = new global.VaRecordCardRenderer(true);\n      var fields = cardRenderer.createFields(fieldList, change);\n      var html = cardRenderer.renderCard(title, fields);\n      return html;\n\n\n\n   function addToCart(cartid, cat_item, quantity) {\n\n           var gr = new GlideRecord('sc_cart_item');\n\n           gr.initialize();\n           gr.cart = cartid;\n\n           gr.cat_item = cat_item;\n\n           gr.quantity = quantity;\n\n           gr.insert();\n\n   }\n\n   function addOptions(cartID) {\n\n           // Get the Cart Item\n\n           var kids = new GlideRecord('sc_cart_item');\n\n           kids.addQuery('cart', cartID);\n\n           kids.query();\n\n           if (kids.next()) {       \n\n                     // Look up the options for the item in the cart\n\n                     var options = new GlideRecord('item_option_new');\n\n                     options.addQuery('cat_item', kids.cat_item);\n\n                     options.query();\n\n                     // Add the appropriate Item Options\n\n                     while(options.next()) {\n\n                               var gr = new GlideRecord('sc_item_option');\n\n                               gr.initialize();\n\n                               if(options.question_text == \"Is this a replacement for a lost Blackberry device ?\") {\n\n                                         gr.item_option_new.setValue(options.sys_id);\n\n                                         gr.value = \"No\";\n\n                               }\n\n                               else if(options.question_text == \"If it is a replacement, what was the original phone number ?\") {\n\n                                         gr.item_option_new.setValue(options.sys_id);\n\n                                         gr.value = \"(858)345-1418\";\n\n                               }\n\n                               else if(options.question_text == \"Special Requirements\") {\n\n                                         gr.item_option_new.setValue(options.sys_id);\n\n                                         gr.value = \"Need UK charger attachment.\";\n\n                               }\n\n                               gr.cart_item.setValue(kids.sys_id);\n\n                               gr.insert();\n\n                     }\n\n             }\n\n   }\n\n   function nukeCart() {\n\n           var cart = getCart();\n\n           var id = cart.sys_id;\n\n           var kids = new GlideRecord('sc_cart_item');\n\n           kids.addQuery('cart', cart.sys_id);\n\n           kids.deleteMultiple();\n\n   }\n\n   function getCart() {\n\n           var cart = new GlideRecord('sc_cart');\n\n           var userid = gs.getUserID();\n        \n           cart.addQuery('user', userid);\n\n           cart.query();\n\n          // if (cart.next()) {\n\n                   // we already have a cart all is well\n                //cart.deleteMultiple();\n           //}\n\n           //else {         \n\n                   cart.initialize();\n\n                   cart.user = userid;\n                   cart.deleteMultiple();\n                   cart.insert();\n\n           //}\n\n        return cart;\n\n   }\n\n   function doOrder() {\n\n           var req = new GlideappRequestNew();\n          var response= req.copyCart();\n        gs.debug(response);\n        \n}\n})();\n})();"},{"name":"__silent_ScriptOutputPrompt_f9cddc03a21a448bae5d6702554957d2","applicable":"vaVars.previous_graph_node==\"create request___99352e1417f942fb901f7f793524b45d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Display request details___f9cddc03a21a448bae5d6702554957d2\";vaInputs.__silent_ScriptOutputPrompt_f9cddc03a21a448bae5d6702554957d2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Display request details___f9cddc03a21a448bae5d6702554957d2\";(function execute() {\n   return (function execute() {\n\n      \n\n      var change = new GlideRecordSecure('sc_request');\n      change.get(vaInputs.create_change);\n      \n      var title = {\n            url: vaVars.base_url + 'nav_to.do?uri=change_request.do?sys_id=' + vaInputs.create_change, \n            label: change.getDisplayValue('number')\n      };\n\n      var fieldList = ['type', 'requested_by', 'category', 'cmdb_ci', 'priority', 'risk', 'impact', 'assignment_group'];\n      var cardRenderer = new global.VaRecordCardRenderer(true);\n      var fields = cardRenderer.createFields(fieldList, change);\n      var html = cardRenderer.renderCard(title, fields);\n      return html;\n\n      /*************************************************************** \n       YOU CAN OUTPUT A SinglePartOutMsg (see full API for sn_cs.SinglePartOutMsg), \n       LIKE THIS:\n       \n       var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart('text part');\n       return singleOutMsg;\n      ****************************************************************/ \n          \n      /*************************************************************** \n       OR YOU CAN OUTPUT A MultiPartOutMsg (see full API for sn_cs.MultiPartOutMsg),\n       LIKE THIS:\n       \n       var multiOutMsg = new sn_cs.MultiPartOutMsg();\n       multiOutMsg.setNavigationLabel('Click for More');\n       multiOutMsg.addPlainTextPart('text part 1');\n       multiOutMsg.addPlainTextPart('text part 2');\n       return multiOutMsg;\n      ****************************************************************/\n      \n      /***************************************************************\n       * NOTE: You can include conditional logic when building the \n       * output content. For example, if constructing a sn_cs.MultiPartOutMsg \n       * then you might want to add 3 parts under condition (A) but 7 parts \n       * under condition (B).\n       *\n       * HOWEVER, do NOT include conditional logic that varies the output TYPE.\n       * That is, do NOT include a condition that might return either a\n       * sn_cs.SinglePartOutMsg under condition (A) but returns a \n       * sn_cs.MultiPartOutMsg under condition (B).\n       ****************************************************************/\n})()\n;\n})();"},{"name":"__silent_OutputPrompt_5d91585ed0d742479139475f02b7bab5","applicable":"vaVars.previous_graph_node==\"Cancel___1e2f32fa60bc416cb2072fc07552e585\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Acknowledgement___5d91585ed0d742479139475f02b7bab5\";vaInputs.__silent_OutputPrompt_5d91585ed0d742479139475f02b7bab5=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Acknowledgement___5d91585ed0d742479139475f02b7bab5\";(function execute() {return gs.getMessage(\"Thanks for using our support chat! Have a great day!\");})();"},{"name":"__silent_ScriptOutputPrompt_f9cddc03a21a448bae5d6702554957d2","applicable":"vaVars.previous_graph_node==\"create request___99352e1417f942fb901f7f793524b45d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Display request details___f9cddc03a21a448bae5d6702554957d2\";vaInputs.__silent_ScriptOutputPrompt_f9cddc03a21a448bae5d6702554957d2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Display request details___f9cddc03a21a448bae5d6702554957d2\";(function execute() {\n   return (function execute() {\n\n      \n\n      var change = new GlideRecordSecure('sc_request');\n      change.get(vaInputs.create_change);\n      \n      var title = {\n            url: vaVars.base_url + 'nav_to.do?uri=change_request.do?sys_id=' + vaInputs.create_change, \n            label: change.getDisplayValue('number')\n      };\n\n      var fieldList = ['type', 'requested_by', 'category', 'cmdb_ci', 'priority', 'risk', 'impact', 'assignment_group'];\n      var cardRenderer = new global.VaRecordCardRenderer(true);\n      var fields = cardRenderer.createFields(fieldList, change);\n      var html = cardRenderer.renderCard(title, fields);\n      return html;\n\n      /*************************************************************** \n       YOU CAN OUTPUT A SinglePartOutMsg (see full API for sn_cs.SinglePartOutMsg), \n       LIKE THIS:\n       \n       var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart('text part');\n       return singleOutMsg;\n      ****************************************************************/ \n          \n      /*************************************************************** \n       OR YOU CAN OUTPUT A MultiPartOutMsg (see full API for sn_cs.MultiPartOutMsg),\n       LIKE THIS:\n       \n       var multiOutMsg = new sn_cs.MultiPartOutMsg();\n       multiOutMsg.setNavigationLabel('Click for More');\n       multiOutMsg.addPlainTextPart('text part 1');\n       multiOutMsg.addPlainTextPart('text part 2');\n       return multiOutMsg;\n      ****************************************************************/\n      \n      /***************************************************************\n       * NOTE: You can include conditional logic when building the \n       * output content. For example, if constructing a sn_cs.MultiPartOutMsg \n       * then you might want to add 3 parts under condition (A) but 7 parts \n       * under condition (B).\n       *\n       * HOWEVER, do NOT include conditional logic that varies the output TYPE.\n       * That is, do NOT include a condition that might return either a\n       * sn_cs.SinglePartOutMsg under condition (A) but returns a \n       * sn_cs.MultiPartOutMsg under condition (B).\n       ****************************************************************/\n})()\n;\n})();"},{"name":"__silent_OutputPrompt_5d91585ed0d742479139475f02b7bab5","applicable":"vaVars.previous_graph_node==\"Cancel___1e2f32fa60bc416cb2072fc07552e585\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Acknowledgement___5d91585ed0d742479139475f02b7bab5\";vaInputs.__silent_OutputPrompt_5d91585ed0d742479139475f02b7bab5=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Acknowledgement___5d91585ed0d742479139475f02b7bab5\";(function execute() {return gs.getMessage(\"Thanks for using our support chat! Have a great day!\");})();"},{"name":"search_again","applicable":"(vaVars.previous_graph_node==\"No Items Found___89f054abe27e469289de6ecede4ada9b\" || vaVars.previous_graph_node==\"confirmation___719bbb7a68a8454186509f29fc8df1df\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Search Again___357d44e1387a47929025da6944137114\";(function execute() {vaInputs.__silent_ScriptOutputPrompt_f9cddc03a21a448bae5d6702554957d2.reset();vaInputs.__silent_ScriptedAction_d362e473c7b54288a944fba8c68fb1cb.reset();vaInputs.__silent_ImageOutputPrompt_80ee4793b68f4c03a12ae7768ef07bbf.reset();vaInputs.__silent_Branch_0b6c10fd6b71467a9578cb2ff90d606b.reset();vaInputs.__silent_ScriptOutputPrompt_99352e1417f942fb901f7f793524b45d.reset();vaInputs.__silent_TerminateGoal_943584c9190c4604914ad85d8a1f5186.reset();vaInputs.search_again.reset();vaInputs.__silent_ScriptedAction_2d3e42b4e62c453689bde5e911caa699.reset();vaInputs.__silent_OutputPrompt_5d91585ed0d742479139475f02b7bab5.reset();vaInputs.__silent_OutputPrompt_719bbb7a68a8454186509f29fc8df1df.reset();vaInputs.__silent_Branch_1e2f32fa60bc416cb2072fc07552e585.reset();vaInputs.__silent_Decision_3b3d6f11b13747edb2baa80a2339bc9c.reset();})();gs.getMessage(\"Would you like to search for something else?\")","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Search Again___357d44e1387a47929025da6944137114\";null;"},{"name":"__silent_OutputPrompt_719bbb7a68a8454186509f29fc8df1df","applicable":"vaVars.previous_graph_node==\"Display request details___f9cddc03a21a448bae5d6702554957d2\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"confirmation___719bbb7a68a8454186509f29fc8df1df\";vaInputs.__silent_OutputPrompt_719bbb7a68a8454186509f29fc8df1df=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"confirmation___719bbb7a68a8454186509f29fc8df1df\";vaInputs.search_again.reset();(function execute() {return gs.getMessage(\"Your request has been placed\");})();"},{"name":"__silent_ScriptedAction_d362e473c7b54288a944fba8c68fb1cb","applicable":"vaVars.previous_graph_node==\"Acknowledgement___5d91585ed0d742479139475f02b7bab5\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Clear cart___d362e473c7b54288a944fba8c68fb1cb\";(function execute() {(function execute() {\n    function getCart() {\n\n           var cart = new GlideRecord('sc_cart');\n\n           var userid = gs.getUserID();\n        \n           cart.addQuery('user', userid);\n\n           cart.query();\n\n           if (cart.next()) {\n\n                   // we already have a cart all is well\n               cart.deleteMultiple();\n           }\n    }\n})()\n;})();vaInputs.__silent_ScriptedAction_d362e473c7b54288a944fba8c68fb1cb=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Clear cart___d362e473c7b54288a944fba8c68fb1cb\";null;"},{"name":"search_again","applicable":"(vaVars.previous_graph_node==\"No Items Found___89f054abe27e469289de6ecede4ada9b\" || vaVars.previous_graph_node==\"confirmation___719bbb7a68a8454186509f29fc8df1df\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Search Again___357d44e1387a47929025da6944137114\";(function execute() {vaInputs.__silent_ScriptOutputPrompt_f9cddc03a21a448bae5d6702554957d2.reset();vaInputs.__silent_ScriptedAction_d362e473c7b54288a944fba8c68fb1cb.reset();vaInputs.__silent_ImageOutputPrompt_80ee4793b68f4c03a12ae7768ef07bbf.reset();vaInputs.__silent_Branch_0b6c10fd6b71467a9578cb2ff90d606b.reset();vaInputs.__silent_ScriptOutputPrompt_99352e1417f942fb901f7f793524b45d.reset();vaInputs.__silent_TerminateGoal_943584c9190c4604914ad85d8a1f5186.reset();vaInputs.search_again.reset();vaInputs.__silent_ScriptedAction_2d3e42b4e62c453689bde5e911caa699.reset();vaInputs.__silent_OutputPrompt_5d91585ed0d742479139475f02b7bab5.reset();vaInputs.__silent_OutputPrompt_719bbb7a68a8454186509f29fc8df1df.reset();vaInputs.__silent_Branch_1e2f32fa60bc416cb2072fc07552e585.reset();vaInputs.__silent_Decision_3b3d6f11b13747edb2baa80a2339bc9c.reset();})();gs.getMessage(\"Would you like to search for something else?\")","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Search Again___357d44e1387a47929025da6944137114\";null;"},{"name":"__silent_OutputPrompt_719bbb7a68a8454186509f29fc8df1df","applicable":"vaVars.previous_graph_node==\"Display request details___f9cddc03a21a448bae5d6702554957d2\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"confirmation___719bbb7a68a8454186509f29fc8df1df\";vaInputs.__silent_OutputPrompt_719bbb7a68a8454186509f29fc8df1df=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"confirmation___719bbb7a68a8454186509f29fc8df1df\";vaInputs.search_again.reset();(function execute() {return gs.getMessage(\"Your request has been placed\");})();"},{"name":"__silent_ScriptedAction_d362e473c7b54288a944fba8c68fb1cb","applicable":"vaVars.previous_graph_node==\"Acknowledgement___5d91585ed0d742479139475f02b7bab5\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Clear cart___d362e473c7b54288a944fba8c68fb1cb\";(function execute() {(function execute() {\n    function getCart() {\n\n           var cart = new GlideRecord('sc_cart');\n\n           var userid = gs.getUserID();\n        \n           cart.addQuery('user', userid);\n\n           cart.query();\n\n           if (cart.next()) {\n\n                   // we already have a cart all is well\n               cart.deleteMultiple();\n           }\n    }\n})()\n;})();vaInputs.__silent_ScriptedAction_d362e473c7b54288a944fba8c68fb1cb=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Clear cart___d362e473c7b54288a944fba8c68fb1cb\";null;"},{"name":"__silent_TerminateGoal_943584c9190c4604914ad85d8a1f5186","applicable":"vaVars.previous_graph_node==\"Clear cart___d362e473c7b54288a944fba8c68fb1cb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___943584c9190c4604914ad85d8a1f5186\";vaInputs.__silent_TerminateGoal_943584c9190c4604914ad85d8a1f5186=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"End___943584c9190c4604914ad85d8a1f5186\";vaVars.__segment_trigger_d308df64c6624cf8bd7ce11e5e6d8da1_done=true;null;"},{"name":"__silent_TerminateGoal_943584c9190c4604914ad85d8a1f5186","applicable":"vaVars.previous_graph_node==\"Clear cart___d362e473c7b54288a944fba8c68fb1cb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___943584c9190c4604914ad85d8a1f5186\";vaInputs.__silent_TerminateGoal_943584c9190c4604914ad85d8a1f5186=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"End___943584c9190c4604914ad85d8a1f5186\";vaVars.__segment_trigger_d308df64c6624cf8bd7ce11e5e6d8da1_done=true;null;"}],"variables_update":[]}],"roles":[],"active":true,"published":true,"sys_scope":"e18088d2db203300254285184b9619b5","title":"Deploy Customer Services"}</definition>
        <fields/>
        <is_system_topic>false</is_system_topic>
        <key_phrases>Request Service request buy item catalog purchase order need require pcf deployment</key_phrases>
        <metaphone>P ARTR TPL SRFK NT PRX RKR ATM PKF KTLK RKST</metaphone>
        <name>Deploy Customer Services</name>
        <published>true</published>
        <roles/>
        <sys_class_name>sys_cs_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2019-06-27 14:31:28</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>7c6ed2e9db563300254285184b9619a0</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>Deploy Customer Services</sys_name>
        <sys_package display_value="appTest" source="x_181622_apptest">e18088d2db203300254285184b9619b5</sys_package>
        <sys_policy/>
        <sys_scope display_value="appTest">e18088d2db203300254285184b9619b5</sys_scope>
        <sys_update_name>sys_cs_topic_7c6ed2e9db563300254285184b9619a0</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2019-06-27 14:31:33</sys_updated_on>
        <title>Deploy Customer Services</title>
        <vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor>
    </sys_cs_topic>
    <sys_variable_value action="delete_multiple" query="document_key=7c6ed2e9db563300254285184b9619a0"/>
</record_update>
