<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic">
    <sys_cs_topic action="INSERT_OR_UPDATE">
        <active>true</active>
        <applicability/>
        <cb_topic_id>f95d5aa9db563300254285184b9619d8</cb_topic_id>
        <definition>{"id":"f95d5aa9db563300254285184b9619d8","name":"Deploy Shipment Services","vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"Deploy Shipment Services","applicability":"","category":"","key_phrases":["Request Service","request","buy","item","catalog","purchase","order","need","require","pcf","deployment"],"variables":[{"name":"limit","type":"java.lang.Object","init_value":"5"},{"name":"count","type":"java.lang.Object","init_value":"0"},{"name":"results","type":"java.lang.Object"},{"name":"selected_title","type":"java.lang.Object"},{"name":"selected_link","type":"java.lang.Object"},{"name":"filter_tables","type":"java.lang.Object","init_value":"\"sc_cat_item_content,sc_cat_item_producer,sc_cat_item_wizard,std_change_record_producer,sc_cat_item_producer_service\""},{"name":"LiveAgent_application","type":"java.lang.Object","init_value":"\"itsm\""},{"name":"request_details","type":"java.lang.Object"},{"name":"selectedSysId","type":"java.lang.Object"},{"name":"noData_ffedd5c2ceb945968a1d96246859f9e8","type":"java.lang.Object"},{"name":"__multipart_total__cfb4d815ebc64731b9480b6acd82de50","type":"java.lang.Object"},{"name":"__multipart_idx__cfb4d815ebc64731b9480b6acd82de50","type":"java.lang.Object"},{"name":"__multipart_valid__cfb4d815ebc64731b9480b6acd82de50","type":"java.lang.Object"},{"name":"__multipart_total__0af2eeae230c4b7d8318c523345018b5","type":"java.lang.Object"},{"name":"__multipart_idx__0af2eeae230c4b7d8318c523345018b5","type":"java.lang.Object"},{"name":"__multipart_valid__0af2eeae230c4b7d8318c523345018b5","type":"java.lang.Object"},{"name":"__segment_trigger_1b36cb9e759e4503a6bd631d50ff0844_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Picture","name":"catalog_item","unique":false,"key_phrases":[],"static_enum_list":[],"dynamic_enum_list":{"name":"catalog_item","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"name","isItemValue":false,"isPicture":false},{"name":"body","isItemValue":false,"isPicture":true}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.name) &amp;&amp; !gs.nil(option.body);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'name': 'no_data', 'body': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.name = !gs.nil(invalidOption.name) ? invalidOption.name : fixedOption.name;fixedOption.body = !gs.nil(invalidOption.body) ? invalidOption.body : fixedOption.body;}return fixedOption;}function buildNoOptionsArray() {return [{'value': 'no_data', 'name': 'no_data', 'body': 'no_data'},{'value': 'no_data', 'name': 'no_data', 'body': 'no_data'}];} function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var carouselOptions = [];var customApplies = true;if (!customApplies) {carouselOptions = buildNoOptionsArray();vaVars.noData_ffedd5c2ceb945968a1d96246859f9e8 = true; return carouselOptions;}else {carouselOptions = (function execute() {\n    var results = JSON.parse(vaVars.results);\n    var baseURL = gs.getProperty('glide.servlet.uri');\n    var options = [];\n    for (var i=0; i&lt; results.length; i++) {\n        options.push(\n            {\n                'Name': results[i].title,\n                'Value': i + '',\n                'Body': baseURL + '/' + results[i].image\n            }\n        );\n    }\n    return options;\n})()\n;var noOptions = gs.nil(carouselOptions) || carouselOptions.length==0;if (!noOptions) {var invalidCount = 0;var normalizedCarouselOptions = [];for (var i = 0; i &lt; carouselOptions.length; i++) {normalizedCarouselOptions.push(normalizeKeys(carouselOptions[i]));}carouselOptions = normalizedCarouselOptions;for (var i = 0; i &lt; carouselOptions.length; i++) {if (!isValid(carouselOptions[i])) {invalidCount++;carouselOptions[i] = fixInvalid(carouselOptions[i]);}}noOptions = invalidCount === carouselOptions.length;}if (noOptions) {carouselOptions = buildNoOptionsArray();}vaVars.noData_ffedd5c2ceb945968a1d96246859f9e8 = noOptions; return carouselOptions;}})();"}}},{"type":"String","name":"search_term","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"Boolean","name":"search_again","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"Boolean","name":"RootDecisionBranch_775d52e58c5633005dffeeb1092f3db5","unique":false,"default_value":"true","key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_RootDecisionBranch_375d52e50756330025e13b96910a47b5","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ScriptOutputPrompt_cfb4d815ebc64731b9480b6acd82de50","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_373d03e133c14d548b5f912292d5cc59","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Decision_67ffa843ae3e421bb0252b40894f4562","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_fffe485e8a354ca99ea8b51c4dd126c3","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ImageOutputPrompt_4f6c44028d4043c5a4fa425553b406f0","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_45c4e18854cd49c9b8d893c7f41383d7","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Decision_03e6a49fab774a9b84f65eed99e0e46e","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_2620c0465cdc494c94b9251f0c69d27b","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_c1545584c7064728852da5be2f65d16d","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_2716cad66086484898dd26de8e17d9ef","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_0936768f78cc4908a46337fb59aab6b3","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Decision_7b29d41b17f44dbb8825ae7a27fdf632","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Decision_RootDecision_f35d52e5d35633006bee9e877c962fb5","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_StartGoal_7be86652fe6b4d528a76273138f8840f","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_TerminateGoal_ee83c7bf2eaa4c05a1621bb617c1e88d","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_OutputPrompt_5ddadd9ebe494d3ebbbae3f9e5711bd4","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_afe2d354d7f64dbcb0b0885b6c85ac55","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_OutputPrompt_f417f5f638bf4b3cab6e32360505e385","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_fc19c139e4e44e6db2467b0f9b3bef21","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_a2baeb6d48434cc1a5fd101d086fe53d","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_OutputPrompt_195a2535e9234e4fa885a18949f08730","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ScriptOutputPrompt_0af2eeae230c4b7d8318c523345018b5","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"static_enum_list":[]}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"Catalog Item Search","description":"Catalog Item Search","applicability":"vaVars.__segment_trigger_1b36cb9e759e4503a6bd631d50ff0844_done==false","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_775d52e58c5633005dffeeb1092f3db5\");vaInputs.initialize(\"__silent_Branch_afe2d354d7f64dbcb0b0885b6c85ac55\");vaInputs.initialize(\"__silent_ScriptedAction_373d03e133c14d548b5f912292d5cc59\");vaInputs.initialize(\"__silent_Branch_0936768f78cc4908a46337fb59aab6b3\");vaInputs.initialize(\"__silent_ScriptOutputPrompt_cfb4d815ebc64731b9480b6acd82de50\");vaInputs.initialize(\"__silent_StartGoal_7be86652fe6b4d528a76273138f8840f\");vaInputs.initialize(\"__silent_TerminateGoal_ee83c7bf2eaa4c05a1621bb617c1e88d\");vaInputs.initialize(\"__silent_Branch_a2baeb6d48434cc1a5fd101d086fe53d\");vaInputs.initialize(\"search_term\");vaInputs.initialize(\"search_again\");vaInputs.initialize(\"__silent_Branch_fffe485e8a354ca99ea8b51c4dd126c3\");vaInputs.initialize(\"__silent_ScriptedAction_c1545584c7064728852da5be2f65d16d\");vaInputs.initialize(\"__silent_OutputPrompt_5ddadd9ebe494d3ebbbae3f9e5711bd4\");vaInputs.initialize(\"__silent_Branch_45c4e18854cd49c9b8d893c7f41383d7\");vaInputs.initialize(\"__silent_ScriptedAction_2620c0465cdc494c94b9251f0c69d27b\");vaInputs.initialize(\"__silent_ScriptOutputPrompt_0af2eeae230c4b7d8318c523345018b5\");vaInputs.initialize(\"__silent_Branch_2716cad66086484898dd26de8e17d9ef\");vaInputs.initialize(\"__silent_Decision_67ffa843ae3e421bb0252b40894f4562\");vaInputs.initialize(\"__silent_Decision_RootDecision_f35d52e5d35633006bee9e877c962fb5\");vaInputs.initialize(\"__silent_OutputPrompt_f417f5f638bf4b3cab6e32360505e385\");vaInputs.initialize(\"catalog_item\");vaInputs.initialize(\"__silent_OutputPrompt_195a2535e9234e4fa885a18949f08730\");vaInputs.initialize(\"__silent_Branch_fc19c139e4e44e6db2467b0f9b3bef21\");vaInputs.initialize(\"__silent_Decision_03e6a49fab774a9b84f65eed99e0e46e\");vaInputs.initialize(\"__silent_ImageOutputPrompt_4f6c44028d4043c5a4fa425553b406f0\");vaInputs.initialize(\"__silent_Decision_7b29d41b17f44dbb8825ae7a27fdf632\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_375d52e50756330025e13b96910a47b5\");null;","fields":[{"name":"__silent_Decision_RootDecision_f35d52e5d35633006bee9e877c962fb5","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_Catalog Item Search___RootDecision_f35d52e5d35633006bee9e877c962fb5\";vaInputs.__silent_Decision_RootDecision_f35d52e5d35633006bee9e877c962fb5=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_Catalog Item Search___RootDecision_f35d52e5d35633006bee9e877c962fb5\";vaInputs.RootDecisionBranch_775d52e58c5633005dffeeb1092f3db5=true;null;"},{"name":"__silent_Branch_RootDecisionBranch_375d52e50756330025e13b96910a47b5","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_Catalog Item Search___RootDecision_f35d52e5d35633006bee9e877c962fb5\" &amp;&amp; ((vaInputs.RootDecisionBranch_775d52e58c5633005dffeeb1092f3db5.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_375d52e50756330025e13b96910a47b5___RootDecisionBranch_375d52e50756330025e13b96910a47b5\";vaInputs.__silent_Branch_RootDecisionBranch_375d52e50756330025e13b96910a47b5=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_375d52e50756330025e13b96910a47b5___RootDecisionBranch_375d52e50756330025e13b96910a47b5\";null;"},{"name":"__silent_StartGoal_7be86652fe6b4d528a76273138f8840f","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_375d52e50756330025e13b96910a47b5___RootDecisionBranch_375d52e50756330025e13b96910a47b5\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___7be86652fe6b4d528a76273138f8840f\";vaInputs.__silent_StartGoal_7be86652fe6b4d528a76273138f8840f=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Start___7be86652fe6b4d528a76273138f8840f\";null;"},{"name":"__silent_ScriptedAction_373d03e133c14d548b5f912292d5cc59","applicable":"vaVars.previous_graph_node==\"Search Term___b7a114568b174405b67e66139e66f7f0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Contextual Search___373d03e133c14d548b5f912292d5cc59\";(function execute() {(function execute() {\n    var search_term = vaInputs.search_term;\n    var context = '6f7e3f565b30130070e4492c11f91aea';\n\n    var contextualSearch = new sn_itsm_va.VAContextualSearchUtil();\n    var response = contextualSearch.search(context, search_term);\n\n    var success = contextualSearch.processSearchResponse(response);\n    if (!success) {\n        vaVars.count = 0;\n        return '';\n    }\n\n    //Filter out any catalog items that should not be shown ie. Record Producers\n    //create a filterMap to quickly see if item can be shown to user\n    var filter_tables = vaVars.filter_tables.split(',');\n    var filterMap = {};\n    for (var i=0; i &lt; filter_tables.length; i++) {\n        filterMap[filter_tables[i]] = 'true';\n    }\n\n    var searchResults = response.results;\n    var results = [];\n    var count = 0;\n    for (var index=0; index &lt; searchResults.length &amp;&amp; count &lt; parseInt(vaVars.limit); index++) {\n        //Get sys_id of search result\n        var sys_id = searchResults[index].id.split(':')[1];\n        //Lookup item to find the tableName\n        var gr = new GlideRecord('sc_cat_item');\n        if (gr.get(sys_id)) {\n            var tableName = gr.getValue('sys_class_name');\n            //if the tableName is not found in filterMap, we can show it to user\n            if (filterMap[tableName] == undefined) {\n                results.push({\n                    'sys_id': sys_id,\n                    'title': searchResults[index].title,\n                    'image': searchResults[index].image.link\n                });\n                count++;\n            }\n        }\n    }\n\n    vaVars.count = results.length;\n    vaVars.results = JSON.stringify(results);\n\n    return '';\n})()\n;})();vaInputs.__silent_ScriptedAction_373d03e133c14d548b5f912292d5cc59=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Contextual Search___373d03e133c14d548b5f912292d5cc59\";null;"},{"name":"__silent_Decision_7b29d41b17f44dbb8825ae7a27fdf632","applicable":"vaVars.previous_graph_node==\"Contextual Search___373d03e133c14d548b5f912292d5cc59\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___7b29d41b17f44dbb8825ae7a27fdf632\";vaInputs.__silent_Decision_7b29d41b17f44dbb8825ae7a27fdf632=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___7b29d41b17f44dbb8825ae7a27fdf632\";null;"},{"name":"__silent_Branch_fffe485e8a354ca99ea8b51c4dd126c3","applicable":"vaVars.previous_graph_node==\"Decision___7b29d41b17f44dbb8825ae7a27fdf632\" &amp;&amp; (function execute() {\n    return parseInt(vaVars.count) &gt; 1;\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"More than One Item___fffe485e8a354ca99ea8b51c4dd126c3\";vaInputs.__silent_Branch_fffe485e8a354ca99ea8b51c4dd126c3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"More than One Item___fffe485e8a354ca99ea8b51c4dd126c3\";null;"},{"name":"__silent_Branch_fc19c139e4e44e6db2467b0f9b3bef21","applicable":"vaVars.previous_graph_node==\"Decision___7b29d41b17f44dbb8825ae7a27fdf632\" &amp;&amp; (function execute() {\n    return parseInt(vaVars.count) == 1;\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Only One Item___fc19c139e4e44e6db2467b0f9b3bef21\";vaInputs.__silent_Branch_fc19c139e4e44e6db2467b0f9b3bef21=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Only One Item___fc19c139e4e44e6db2467b0f9b3bef21\";null;"},{"name":"__silent_Branch_a2baeb6d48434cc1a5fd101d086fe53d","applicable":"vaVars.previous_graph_node==\"Decision___7b29d41b17f44dbb8825ae7a27fdf632\" &amp;&amp; (function execute() {\n    return parseInt(vaVars.count) == 0;\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"No Items Exist___a2baeb6d48434cc1a5fd101d086fe53d\";vaInputs.__silent_Branch_a2baeb6d48434cc1a5fd101d086fe53d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"No Items Exist___a2baeb6d48434cc1a5fd101d086fe53d\";null;"},{"name":"catalog_item","applicable":"vaVars.previous_graph_node==\"More than One Item___fffe485e8a354ca99ea8b51c4dd126c3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Catalog Item___6cd947fb1718436aa506feb7e34c9917\";(function execute() {var promptMsg=null;if (vaVars.noData_ffedd5c2ceb945968a1d96246859f9e8==false) {promptMsg = gs.getMessage(gs.getMessage(\"Here’s what I have available.  You'll have a chance to confirm or cancel the order next.\"));}else {vaInputs.catalog_item=\"\";}return promptMsg;})();","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Catalog Item___6cd947fb1718436aa506feb7e34c9917\";(function execute() {var acknowledgeMsg=gs.getMessage(\"No Records Found\");if (vaVars.noData_ffedd5c2ceb945968a1d96246859f9e8==false) {acknowledgeMsg = (function execute() {return null;})();}return acknowledgeMsg;})();"},{"name":"__silent_Decision_67ffa843ae3e421bb0252b40894f4562","applicable":"vaVars.previous_graph_node==\"Only One Item___fc19c139e4e44e6db2467b0f9b3bef21\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___67ffa843ae3e421bb0252b40894f4562\";vaInputs.__silent_Decision_67ffa843ae3e421bb0252b40894f4562=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___67ffa843ae3e421bb0252b40894f4562\";null;"},{"name":"__silent_OutputPrompt_195a2535e9234e4fa885a18949f08730","applicable":"vaVars.previous_graph_node==\"No Items Exist___a2baeb6d48434cc1a5fd101d086fe53d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"No Items Found___195a2535e9234e4fa885a18949f08730\";vaInputs.__silent_OutputPrompt_195a2535e9234e4fa885a18949f08730=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"No Items Found___195a2535e9234e4fa885a18949f08730\";(function execute() {return gs.getMessage(\"Sorry, but I couldn’t find any relevant items.\");})();"},{"name":"__silent_Branch_afe2d354d7f64dbcb0b0885b6c85ac55","applicable":"vaVars.previous_graph_node==\"Decision___67ffa843ae3e421bb0252b40894f4562\" &amp;&amp; (function execute() {\n    var results = JSON.parse(vaVars.results);\n    return (results[0].image != '');\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Image Exists___afe2d354d7f64dbcb0b0885b6c85ac55\";vaInputs.__silent_Branch_afe2d354d7f64dbcb0b0885b6c85ac55=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Image Exists___afe2d354d7f64dbcb0b0885b6c85ac55\";null;"},{"name":"__silent_Branch_0936768f78cc4908a46337fb59aab6b3","applicable":"vaVars.previous_graph_node==\"Decision___67ffa843ae3e421bb0252b40894f4562\" &amp;&amp; (function execute() {\n    var results = JSON.parse(vaVars.results);\n    return (results[0].image == '');\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"No Image___0936768f78cc4908a46337fb59aab6b3\";vaInputs.__silent_Branch_0936768f78cc4908a46337fb59aab6b3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"No Image___0936768f78cc4908a46337fb59aab6b3\";null;"},{"name":"__silent_ScriptedAction_c1545584c7064728852da5be2f65d16d","applicable":"(vaVars.previous_graph_node==\"Catalog Item___6cd947fb1718436aa506feb7e34c9917\" || vaVars.previous_graph_node==\"Item Image___4f6c44028d4043c5a4fa425553b406f0\" || vaVars.previous_graph_node==\"No Image___0936768f78cc4908a46337fb59aab6b3\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Set Selected Item___c1545584c7064728852da5be2f65d16d\";(function execute() {vaInputs.__silent_Branch_45c4e18854cd49c9b8d893c7f41383d7.reset();vaInputs.__silent_ScriptedAction_2620c0465cdc494c94b9251f0c69d27b.reset();vaInputs.__silent_OutputPrompt_5ddadd9ebe494d3ebbbae3f9e5711bd4.reset();vaInputs.__silent_ScriptOutputPrompt_0af2eeae230c4b7d8318c523345018b5.reset();vaInputs.search_again.reset();vaInputs.__silent_TerminateGoal_ee83c7bf2eaa4c05a1621bb617c1e88d.reset();vaInputs.__silent_OutputPrompt_f417f5f638bf4b3cab6e32360505e385.reset();vaInputs.__silent_ScriptOutputPrompt_cfb4d815ebc64731b9480b6acd82de50.reset();vaInputs.__silent_Decision_03e6a49fab774a9b84f65eed99e0e46e.reset();(function execute() {\n    var results = JSON.parse(vaVars.results);\n    var index = 0;\n    if (parseInt(vaVars.count) &gt; 1) {\n        index = parseInt(vaInputs.catalog_item);\n    }\n    vaVars.selected_title = results[index].title;\n    vaVars.selected_link = gs.getProperty('sn_itsm_va.com.snc.itsm.virtualagent.portal_url') + \n        '?id=sc_cat_item&amp;sys_id=' + results[index].sys_id;\n    vaVars.selectedSysId = results[index].sys_id;\n    return '';\n})()\n;vaInputs.__silent_Branch_2716cad66086484898dd26de8e17d9ef.reset();})();vaInputs.__silent_ScriptedAction_c1545584c7064728852da5be2f65d16d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Set Selected Item___c1545584c7064728852da5be2f65d16d\";null;"},{"name":"__silent_Decision_03e6a49fab774a9b84f65eed99e0e46e","applicable":"vaVars.previous_graph_node==\"Search Again___96e486ee656e4a1b8f14e720ab769798\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___03e6a49fab774a9b84f65eed99e0e46e\";vaInputs.__silent_Decision_03e6a49fab774a9b84f65eed99e0e46e=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___03e6a49fab774a9b84f65eed99e0e46e\";null;"},{"name":"__silent_ImageOutputPrompt_4f6c44028d4043c5a4fa425553b406f0","applicable":"vaVars.previous_graph_node==\"Image Exists___afe2d354d7f64dbcb0b0885b6c85ac55\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Item Image___4f6c44028d4043c5a4fa425553b406f0\";vaInputs.__silent_ImageOutputPrompt_4f6c44028d4043c5a4fa425553b406f0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Item Image___4f6c44028d4043c5a4fa425553b406f0\";vaInputs.__silent_ScriptedAction_c1545584c7064728852da5be2f65d16d.reset();(function execute() {var url=(function execute() {\n    var results = JSON.parse(vaVars.results);\n    var baseURL = gs.getProperty('glide.servlet.uri');\n    return baseURL + '/' + results[0].image;\n})()\n;return (function execute() {var outMsg = new sn_cs.SinglePartOutMsg();outMsg.setImagePart(url);return outMsg;})();})();"},{"name":"__silent_ScriptedAction_c1545584c7064728852da5be2f65d16d","applicable":"(vaVars.previous_graph_node==\"Catalog Item___6cd947fb1718436aa506feb7e34c9917\" || vaVars.previous_graph_node==\"Item Image___4f6c44028d4043c5a4fa425553b406f0\" || vaVars.previous_graph_node==\"No Image___0936768f78cc4908a46337fb59aab6b3\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Set Selected Item___c1545584c7064728852da5be2f65d16d\";(function execute() {vaInputs.__silent_Branch_45c4e18854cd49c9b8d893c7f41383d7.reset();vaInputs.__silent_ScriptedAction_2620c0465cdc494c94b9251f0c69d27b.reset();vaInputs.__silent_OutputPrompt_5ddadd9ebe494d3ebbbae3f9e5711bd4.reset();vaInputs.__silent_ScriptOutputPrompt_0af2eeae230c4b7d8318c523345018b5.reset();vaInputs.search_again.reset();vaInputs.__silent_TerminateGoal_ee83c7bf2eaa4c05a1621bb617c1e88d.reset();vaInputs.__silent_OutputPrompt_f417f5f638bf4b3cab6e32360505e385.reset();vaInputs.__silent_ScriptOutputPrompt_cfb4d815ebc64731b9480b6acd82de50.reset();vaInputs.__silent_Decision_03e6a49fab774a9b84f65eed99e0e46e.reset();(function execute() {\n    var results = JSON.parse(vaVars.results);\n    var index = 0;\n    if (parseInt(vaVars.count) &gt; 1) {\n        index = parseInt(vaInputs.catalog_item);\n    }\n    vaVars.selected_title = results[index].title;\n    vaVars.selected_link = gs.getProperty('sn_itsm_va.com.snc.itsm.virtualagent.portal_url') + \n        '?id=sc_cat_item&amp;sys_id=' + results[index].sys_id;\n    vaVars.selectedSysId = results[index].sys_id;\n    return '';\n})()\n;vaInputs.__silent_Branch_2716cad66086484898dd26de8e17d9ef.reset();})();vaInputs.__silent_ScriptedAction_c1545584c7064728852da5be2f65d16d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Set Selected Item___c1545584c7064728852da5be2f65d16d\";null;"},{"name":"__silent_Decision_03e6a49fab774a9b84f65eed99e0e46e","applicable":"vaVars.previous_graph_node==\"Search Again___96e486ee656e4a1b8f14e720ab769798\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___03e6a49fab774a9b84f65eed99e0e46e\";vaInputs.__silent_Decision_03e6a49fab774a9b84f65eed99e0e46e=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___03e6a49fab774a9b84f65eed99e0e46e\";null;"},{"name":"__silent_Branch_45c4e18854cd49c9b8d893c7f41383d7","applicable":"vaVars.previous_graph_node==\"Decision___03e6a49fab774a9b84f65eed99e0e46e\" &amp;&amp; (function execute() {\n    return vaInputs.search_again.getValue();\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Try Again___45c4e18854cd49c9b8d893c7f41383d7\";vaInputs.__silent_Branch_45c4e18854cd49c9b8d893c7f41383d7=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Try Again___45c4e18854cd49c9b8d893c7f41383d7\";vaInputs.search_term.reset();null;"},{"name":"__silent_Branch_2716cad66086484898dd26de8e17d9ef","applicable":"vaVars.previous_graph_node==\"Decision___03e6a49fab774a9b84f65eed99e0e46e\" &amp;&amp; (function execute() {\n    return !vaInputs.search_again.getValue();\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Cancel___2716cad66086484898dd26de8e17d9ef\";vaInputs.__silent_Branch_2716cad66086484898dd26de8e17d9ef=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Cancel___2716cad66086484898dd26de8e17d9ef\";null;"},{"name":"__silent_Branch_45c4e18854cd49c9b8d893c7f41383d7","applicable":"vaVars.previous_graph_node==\"Decision___03e6a49fab774a9b84f65eed99e0e46e\" &amp;&amp; (function execute() {\n    return vaInputs.search_again.getValue();\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Try Again___45c4e18854cd49c9b8d893c7f41383d7\";vaInputs.__silent_Branch_45c4e18854cd49c9b8d893c7f41383d7=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Try Again___45c4e18854cd49c9b8d893c7f41383d7\";vaInputs.search_term.reset();null;"},{"name":"__silent_Branch_2716cad66086484898dd26de8e17d9ef","applicable":"vaVars.previous_graph_node==\"Decision___03e6a49fab774a9b84f65eed99e0e46e\" &amp;&amp; (function execute() {\n    return !vaInputs.search_again.getValue();\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Cancel___2716cad66086484898dd26de8e17d9ef\";vaInputs.__silent_Branch_2716cad66086484898dd26de8e17d9ef=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Cancel___2716cad66086484898dd26de8e17d9ef\";null;"},{"name":"search_term","applicable":"(vaVars.previous_graph_node==\"Try Again___45c4e18854cd49c9b8d893c7f41383d7\" || vaVars.previous_graph_node==\"Start___7be86652fe6b4d528a76273138f8840f\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Search Term___b7a114568b174405b67e66139e66f7f0\";(function execute() {vaInputs.__silent_ScriptedAction_2620c0465cdc494c94b9251f0c69d27b.reset();vaInputs.__silent_Branch_a2baeb6d48434cc1a5fd101d086fe53d.reset();vaInputs.__silent_ScriptedAction_373d03e133c14d548b5f912292d5cc59.reset();vaInputs.__silent_Decision_67ffa843ae3e421bb0252b40894f4562.reset();vaInputs.__silent_Branch_afe2d354d7f64dbcb0b0885b6c85ac55.reset();vaInputs.__silent_Branch_45c4e18854cd49c9b8d893c7f41383d7.reset();vaInputs.__silent_Branch_fffe485e8a354ca99ea8b51c4dd126c3.reset();vaInputs.__silent_OutputPrompt_5ddadd9ebe494d3ebbbae3f9e5711bd4.reset();vaInputs.__silent_ImageOutputPrompt_4f6c44028d4043c5a4fa425553b406f0.reset();vaInputs.__silent_Decision_7b29d41b17f44dbb8825ae7a27fdf632.reset();vaInputs.__silent_ScriptOutputPrompt_0af2eeae230c4b7d8318c523345018b5.reset();vaInputs.search_again.reset();vaInputs.catalog_item.reset();vaInputs.__silent_TerminateGoal_ee83c7bf2eaa4c05a1621bb617c1e88d.reset();vaInputs.__silent_OutputPrompt_f417f5f638bf4b3cab6e32360505e385.reset();vaInputs.__silent_ScriptOutputPrompt_cfb4d815ebc64731b9480b6acd82de50.reset();vaInputs.__silent_ScriptedAction_c1545584c7064728852da5be2f65d16d.reset();vaInputs.__silent_Decision_03e6a49fab774a9b84f65eed99e0e46e.reset();vaInputs.__silent_Branch_0936768f78cc4908a46337fb59aab6b3.reset();vaInputs.__silent_Branch_2716cad66086484898dd26de8e17d9ef.reset();vaInputs.__silent_Branch_fc19c139e4e44e6db2467b0f9b3bef21.reset();vaInputs.__silent_OutputPrompt_195a2535e9234e4fa885a18949f08730.reset();})();gs.getMessage(\"Please enter a short description of what you're looking for.\")","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Search Term___b7a114568b174405b67e66139e66f7f0\";null;"},{"name":"__silent_ScriptOutputPrompt_0af2eeae230c4b7d8318c523345018b5","applicable":"vaVars.previous_graph_node==\"Set Selected Item___c1545584c7064728852da5be2f65d16d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"create request___0af2eeae230c4b7d8318c523345018b5\";vaInputs.__silent_ScriptOutputPrompt_0af2eeae230c4b7d8318c523345018b5=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"create request___0af2eeae230c4b7d8318c523345018b5\";(function execute() {\n   return (function execute() {\n\n   // new cart\n\n   var realCart = getCart();\n\n   var cartID = realCart.sys_id;\n   //\"6abf29a3db4e3300254285184b96193f\"\n   addToCart(cartID, vaVars.selectedSysId, 1);\n   \n   doOrder();\n   gs.debug(\"catalog item: \"+ vaInputs.catalog_item);\n   \n   var change = new GlideRecordSecure('change_request');\n      change.get(vaInputs.create_change);\n      \n      var title = {\n            url: vaVars.base_url + 'nav_to.do?uri=change_request.do?sys_id=' + vaInputs.create_change, \n            label: change.getDisplayValue('number')\n      };\n\n      var fieldList = ['type', 'requested_by', 'category', 'cmdb_ci', 'priority', 'risk', 'impact', 'assignment_group'];\n      var cardRenderer = new global.VaRecordCardRenderer(true);\n      var fields = cardRenderer.createFields(fieldList, change);\n      var html = cardRenderer.renderCard(title, fields);\n      return html;\n\n\n\n   function addToCart(cartid, cat_item, quantity) {\n\n           var gr = new GlideRecord('sc_cart_item');\n\n           gr.initialize();\n           gr.cart = cartid;\n\n           gr.cat_item = cat_item;\n\n           gr.quantity = quantity;\n\n           gr.insert();\n\n   }\n\n   function addOptions(cartID) {\n\n           // Get the Cart Item\n\n           var kids = new GlideRecord('sc_cart_item');\n\n           kids.addQuery('cart', cartID);\n\n           kids.query();\n\n           if (kids.next()) {       \n\n                     // Look up the options for the item in the cart\n\n                     var options = new GlideRecord('item_option_new');\n\n                     options.addQuery('cat_item', kids.cat_item);\n\n                     options.query();\n\n                     // Add the appropriate Item Options\n\n                     while(options.next()) {\n\n                               var gr = new GlideRecord('sc_item_option');\n\n                               gr.initialize();\n\n                               if(options.question_text == \"Is this a replacement for a lost Blackberry device ?\") {\n\n                                         gr.item_option_new.setValue(options.sys_id);\n\n                                         gr.value = \"No\";\n\n                               }\n\n                               else if(options.question_text == \"If it is a replacement, what was the original phone number ?\") {\n\n                                         gr.item_option_new.setValue(options.sys_id);\n\n                                         gr.value = \"(858)345-1418\";\n\n                               }\n\n                               else if(options.question_text == \"Special Requirements\") {\n\n                                         gr.item_option_new.setValue(options.sys_id);\n\n                                         gr.value = \"Need UK charger attachment.\";\n\n                               }\n\n                               gr.cart_item.setValue(kids.sys_id);\n\n                               gr.insert();\n\n                     }\n\n             }\n\n   }\n\n   function nukeCart() {\n\n           var cart = getCart();\n\n           var id = cart.sys_id;\n\n           var kids = new GlideRecord('sc_cart_item');\n\n           kids.addQuery('cart', cart.sys_id);\n\n           kids.deleteMultiple();\n\n   }\n\n   function getCart() {\n\n           var cart = new GlideRecord('sc_cart');\n\n           var userid = gs.getUserID();\n        \n           cart.addQuery('user', userid);\n\n           cart.query();\n\n          // if (cart.next()) {\n\n                   // we already have a cart all is well\n                //cart.deleteMultiple();\n           //}\n\n           //else {         \n\n                   cart.initialize();\n\n                   cart.user = userid;\n                   cart.deleteMultiple();\n                   cart.insert();\n\n           //}\n\n        return cart;\n\n   }\n\n   function doOrder() {\n\n           var req = new GlideappRequestNew();\n          var response= req.copyCart();\n        gs.debug(response);\n        \n}\n})();\n})();"},{"name":"__silent_ScriptOutputPrompt_0af2eeae230c4b7d8318c523345018b5","applicable":"vaVars.previous_graph_node==\"Set Selected Item___c1545584c7064728852da5be2f65d16d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"create request___0af2eeae230c4b7d8318c523345018b5\";vaInputs.__silent_ScriptOutputPrompt_0af2eeae230c4b7d8318c523345018b5=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"create request___0af2eeae230c4b7d8318c523345018b5\";(function execute() {\n   return (function execute() {\n\n   // new cart\n\n   var realCart = getCart();\n\n   var cartID = realCart.sys_id;\n   //\"6abf29a3db4e3300254285184b96193f\"\n   addToCart(cartID, vaVars.selectedSysId, 1);\n   \n   doOrder();\n   gs.debug(\"catalog item: \"+ vaInputs.catalog_item);\n   \n   var change = new GlideRecordSecure('change_request');\n      change.get(vaInputs.create_change);\n      \n      var title = {\n            url: vaVars.base_url + 'nav_to.do?uri=change_request.do?sys_id=' + vaInputs.create_change, \n            label: change.getDisplayValue('number')\n      };\n\n      var fieldList = ['type', 'requested_by', 'category', 'cmdb_ci', 'priority', 'risk', 'impact', 'assignment_group'];\n      var cardRenderer = new global.VaRecordCardRenderer(true);\n      var fields = cardRenderer.createFields(fieldList, change);\n      var html = cardRenderer.renderCard(title, fields);\n      return html;\n\n\n\n   function addToCart(cartid, cat_item, quantity) {\n\n           var gr = new GlideRecord('sc_cart_item');\n\n           gr.initialize();\n           gr.cart = cartid;\n\n           gr.cat_item = cat_item;\n\n           gr.quantity = quantity;\n\n           gr.insert();\n\n   }\n\n   function addOptions(cartID) {\n\n           // Get the Cart Item\n\n           var kids = new GlideRecord('sc_cart_item');\n\n           kids.addQuery('cart', cartID);\n\n           kids.query();\n\n           if (kids.next()) {       \n\n                     // Look up the options for the item in the cart\n\n                     var options = new GlideRecord('item_option_new');\n\n                     options.addQuery('cat_item', kids.cat_item);\n\n                     options.query();\n\n                     // Add the appropriate Item Options\n\n                     while(options.next()) {\n\n                               var gr = new GlideRecord('sc_item_option');\n\n                               gr.initialize();\n\n                               if(options.question_text == \"Is this a replacement for a lost Blackberry device ?\") {\n\n                                         gr.item_option_new.setValue(options.sys_id);\n\n                                         gr.value = \"No\";\n\n                               }\n\n                               else if(options.question_text == \"If it is a replacement, what was the original phone number ?\") {\n\n                                         gr.item_option_new.setValue(options.sys_id);\n\n                                         gr.value = \"(858)345-1418\";\n\n                               }\n\n                               else if(options.question_text == \"Special Requirements\") {\n\n                                         gr.item_option_new.setValue(options.sys_id);\n\n                                         gr.value = \"Need UK charger attachment.\";\n\n                               }\n\n                               gr.cart_item.setValue(kids.sys_id);\n\n                               gr.insert();\n\n                     }\n\n             }\n\n   }\n\n   function nukeCart() {\n\n           var cart = getCart();\n\n           var id = cart.sys_id;\n\n           var kids = new GlideRecord('sc_cart_item');\n\n           kids.addQuery('cart', cart.sys_id);\n\n           kids.deleteMultiple();\n\n   }\n\n   function getCart() {\n\n           var cart = new GlideRecord('sc_cart');\n\n           var userid = gs.getUserID();\n        \n           cart.addQuery('user', userid);\n\n           cart.query();\n\n          // if (cart.next()) {\n\n                   // we already have a cart all is well\n                //cart.deleteMultiple();\n           //}\n\n           //else {         \n\n                   cart.initialize();\n\n                   cart.user = userid;\n                   cart.deleteMultiple();\n                   cart.insert();\n\n           //}\n\n        return cart;\n\n   }\n\n   function doOrder() {\n\n           var req = new GlideappRequestNew();\n          var response= req.copyCart();\n        gs.debug(response);\n        \n}\n})();\n})();"},{"name":"__silent_ScriptOutputPrompt_cfb4d815ebc64731b9480b6acd82de50","applicable":"vaVars.previous_graph_node==\"create request___0af2eeae230c4b7d8318c523345018b5\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Display request details___cfb4d815ebc64731b9480b6acd82de50\";vaInputs.__silent_ScriptOutputPrompt_cfb4d815ebc64731b9480b6acd82de50=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Display request details___cfb4d815ebc64731b9480b6acd82de50\";(function execute() {\n   return (function execute() {\n\n      \n\n      var change = new GlideRecordSecure('sc_request');\n      change.get(vaInputs.create_change);\n      \n      var title = {\n            url: vaVars.base_url + 'nav_to.do?uri=change_request.do?sys_id=' + vaInputs.create_change, \n            label: change.getDisplayValue('number')\n      };\n\n      var fieldList = ['type', 'requested_by', 'category', 'cmdb_ci', 'priority', 'risk', 'impact', 'assignment_group'];\n      var cardRenderer = new global.VaRecordCardRenderer(true);\n      var fields = cardRenderer.createFields(fieldList, change);\n      var html = cardRenderer.renderCard(title, fields);\n      return html;\n\n      /*************************************************************** \n       YOU CAN OUTPUT A SinglePartOutMsg (see full API for sn_cs.SinglePartOutMsg), \n       LIKE THIS:\n       \n       var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart('text part');\n       return singleOutMsg;\n      ****************************************************************/ \n          \n      /*************************************************************** \n       OR YOU CAN OUTPUT A MultiPartOutMsg (see full API for sn_cs.MultiPartOutMsg),\n       LIKE THIS:\n       \n       var multiOutMsg = new sn_cs.MultiPartOutMsg();\n       multiOutMsg.setNavigationLabel('Click for More');\n       multiOutMsg.addPlainTextPart('text part 1');\n       multiOutMsg.addPlainTextPart('text part 2');\n       return multiOutMsg;\n      ****************************************************************/\n      \n      /***************************************************************\n       * NOTE: You can include conditional logic when building the \n       * output content. For example, if constructing a sn_cs.MultiPartOutMsg \n       * then you might want to add 3 parts under condition (A) but 7 parts \n       * under condition (B).\n       *\n       * HOWEVER, do NOT include conditional logic that varies the output TYPE.\n       * That is, do NOT include a condition that might return either a\n       * sn_cs.SinglePartOutMsg under condition (A) but returns a \n       * sn_cs.MultiPartOutMsg under condition (B).\n       ****************************************************************/\n})()\n;\n})();"},{"name":"__silent_OutputPrompt_5ddadd9ebe494d3ebbbae3f9e5711bd4","applicable":"vaVars.previous_graph_node==\"Cancel___2716cad66086484898dd26de8e17d9ef\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Acknowledgement___5ddadd9ebe494d3ebbbae3f9e5711bd4\";vaInputs.__silent_OutputPrompt_5ddadd9ebe494d3ebbbae3f9e5711bd4=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Acknowledgement___5ddadd9ebe494d3ebbbae3f9e5711bd4\";(function execute() {return gs.getMessage(\"Thanks for using our support chat! Have a great day!\");})();"},{"name":"__silent_ScriptOutputPrompt_cfb4d815ebc64731b9480b6acd82de50","applicable":"vaVars.previous_graph_node==\"create request___0af2eeae230c4b7d8318c523345018b5\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Display request details___cfb4d815ebc64731b9480b6acd82de50\";vaInputs.__silent_ScriptOutputPrompt_cfb4d815ebc64731b9480b6acd82de50=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Display request details___cfb4d815ebc64731b9480b6acd82de50\";(function execute() {\n   return (function execute() {\n\n      \n\n      var change = new GlideRecordSecure('sc_request');\n      change.get(vaInputs.create_change);\n      \n      var title = {\n            url: vaVars.base_url + 'nav_to.do?uri=change_request.do?sys_id=' + vaInputs.create_change, \n            label: change.getDisplayValue('number')\n      };\n\n      var fieldList = ['type', 'requested_by', 'category', 'cmdb_ci', 'priority', 'risk', 'impact', 'assignment_group'];\n      var cardRenderer = new global.VaRecordCardRenderer(true);\n      var fields = cardRenderer.createFields(fieldList, change);\n      var html = cardRenderer.renderCard(title, fields);\n      return html;\n\n      /*************************************************************** \n       YOU CAN OUTPUT A SinglePartOutMsg (see full API for sn_cs.SinglePartOutMsg), \n       LIKE THIS:\n       \n       var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart('text part');\n       return singleOutMsg;\n      ****************************************************************/ \n          \n      /*************************************************************** \n       OR YOU CAN OUTPUT A MultiPartOutMsg (see full API for sn_cs.MultiPartOutMsg),\n       LIKE THIS:\n       \n       var multiOutMsg = new sn_cs.MultiPartOutMsg();\n       multiOutMsg.setNavigationLabel('Click for More');\n       multiOutMsg.addPlainTextPart('text part 1');\n       multiOutMsg.addPlainTextPart('text part 2');\n       return multiOutMsg;\n      ****************************************************************/\n      \n      /***************************************************************\n       * NOTE: You can include conditional logic when building the \n       * output content. For example, if constructing a sn_cs.MultiPartOutMsg \n       * then you might want to add 3 parts under condition (A) but 7 parts \n       * under condition (B).\n       *\n       * HOWEVER, do NOT include conditional logic that varies the output TYPE.\n       * That is, do NOT include a condition that might return either a\n       * sn_cs.SinglePartOutMsg under condition (A) but returns a \n       * sn_cs.MultiPartOutMsg under condition (B).\n       ****************************************************************/\n})()\n;\n})();"},{"name":"__silent_OutputPrompt_5ddadd9ebe494d3ebbbae3f9e5711bd4","applicable":"vaVars.previous_graph_node==\"Cancel___2716cad66086484898dd26de8e17d9ef\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Acknowledgement___5ddadd9ebe494d3ebbbae3f9e5711bd4\";vaInputs.__silent_OutputPrompt_5ddadd9ebe494d3ebbbae3f9e5711bd4=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Acknowledgement___5ddadd9ebe494d3ebbbae3f9e5711bd4\";(function execute() {return gs.getMessage(\"Thanks for using our support chat! Have a great day!\");})();"},{"name":"search_again","applicable":"(vaVars.previous_graph_node==\"No Items Found___195a2535e9234e4fa885a18949f08730\" || vaVars.previous_graph_node==\"confirmation___f417f5f638bf4b3cab6e32360505e385\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Search Again___96e486ee656e4a1b8f14e720ab769798\";(function execute() {vaInputs.__silent_Branch_45c4e18854cd49c9b8d893c7f41383d7.reset();vaInputs.__silent_ScriptedAction_2620c0465cdc494c94b9251f0c69d27b.reset();vaInputs.__silent_OutputPrompt_5ddadd9ebe494d3ebbbae3f9e5711bd4.reset();vaInputs.__silent_ImageOutputPrompt_4f6c44028d4043c5a4fa425553b406f0.reset();vaInputs.__silent_ScriptOutputPrompt_0af2eeae230c4b7d8318c523345018b5.reset();vaInputs.search_again.reset();vaInputs.__silent_TerminateGoal_ee83c7bf2eaa4c05a1621bb617c1e88d.reset();vaInputs.__silent_OutputPrompt_f417f5f638bf4b3cab6e32360505e385.reset();vaInputs.__silent_ScriptOutputPrompt_cfb4d815ebc64731b9480b6acd82de50.reset();vaInputs.__silent_ScriptedAction_c1545584c7064728852da5be2f65d16d.reset();vaInputs.__silent_Decision_03e6a49fab774a9b84f65eed99e0e46e.reset();vaInputs.__silent_Branch_2716cad66086484898dd26de8e17d9ef.reset();})();gs.getMessage(\"Would you like to search for something else?\")","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Search Again___96e486ee656e4a1b8f14e720ab769798\";null;"},{"name":"__silent_OutputPrompt_f417f5f638bf4b3cab6e32360505e385","applicable":"vaVars.previous_graph_node==\"Display request details___cfb4d815ebc64731b9480b6acd82de50\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"confirmation___f417f5f638bf4b3cab6e32360505e385\";vaInputs.__silent_OutputPrompt_f417f5f638bf4b3cab6e32360505e385=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"confirmation___f417f5f638bf4b3cab6e32360505e385\";vaInputs.search_again.reset();(function execute() {return gs.getMessage(\"Your request has been placed\");})();"},{"name":"__silent_ScriptedAction_2620c0465cdc494c94b9251f0c69d27b","applicable":"vaVars.previous_graph_node==\"Acknowledgement___5ddadd9ebe494d3ebbbae3f9e5711bd4\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Clear cart___2620c0465cdc494c94b9251f0c69d27b\";(function execute() {(function execute() {\n    function getCart() {\n\n           var cart = new GlideRecord('sc_cart');\n\n           var userid = gs.getUserID();\n        \n           cart.addQuery('user', userid);\n\n           cart.query();\n\n           if (cart.next()) {\n\n                   // we already have a cart all is well\n               cart.deleteMultiple();\n           }\n    }\n})()\n;})();vaInputs.__silent_ScriptedAction_2620c0465cdc494c94b9251f0c69d27b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Clear cart___2620c0465cdc494c94b9251f0c69d27b\";null;"},{"name":"search_again","applicable":"(vaVars.previous_graph_node==\"No Items Found___195a2535e9234e4fa885a18949f08730\" || vaVars.previous_graph_node==\"confirmation___f417f5f638bf4b3cab6e32360505e385\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Search Again___96e486ee656e4a1b8f14e720ab769798\";(function execute() {vaInputs.__silent_Branch_45c4e18854cd49c9b8d893c7f41383d7.reset();vaInputs.__silent_ScriptedAction_2620c0465cdc494c94b9251f0c69d27b.reset();vaInputs.__silent_OutputPrompt_5ddadd9ebe494d3ebbbae3f9e5711bd4.reset();vaInputs.__silent_ImageOutputPrompt_4f6c44028d4043c5a4fa425553b406f0.reset();vaInputs.__silent_ScriptOutputPrompt_0af2eeae230c4b7d8318c523345018b5.reset();vaInputs.search_again.reset();vaInputs.__silent_TerminateGoal_ee83c7bf2eaa4c05a1621bb617c1e88d.reset();vaInputs.__silent_OutputPrompt_f417f5f638bf4b3cab6e32360505e385.reset();vaInputs.__silent_ScriptOutputPrompt_cfb4d815ebc64731b9480b6acd82de50.reset();vaInputs.__silent_ScriptedAction_c1545584c7064728852da5be2f65d16d.reset();vaInputs.__silent_Decision_03e6a49fab774a9b84f65eed99e0e46e.reset();vaInputs.__silent_Branch_2716cad66086484898dd26de8e17d9ef.reset();})();gs.getMessage(\"Would you like to search for something else?\")","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Search Again___96e486ee656e4a1b8f14e720ab769798\";null;"},{"name":"__silent_OutputPrompt_f417f5f638bf4b3cab6e32360505e385","applicable":"vaVars.previous_graph_node==\"Display request details___cfb4d815ebc64731b9480b6acd82de50\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"confirmation___f417f5f638bf4b3cab6e32360505e385\";vaInputs.__silent_OutputPrompt_f417f5f638bf4b3cab6e32360505e385=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"confirmation___f417f5f638bf4b3cab6e32360505e385\";vaInputs.search_again.reset();(function execute() {return gs.getMessage(\"Your request has been placed\");})();"},{"name":"__silent_ScriptedAction_2620c0465cdc494c94b9251f0c69d27b","applicable":"vaVars.previous_graph_node==\"Acknowledgement___5ddadd9ebe494d3ebbbae3f9e5711bd4\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Clear cart___2620c0465cdc494c94b9251f0c69d27b\";(function execute() {(function execute() {\n    function getCart() {\n\n           var cart = new GlideRecord('sc_cart');\n\n           var userid = gs.getUserID();\n        \n           cart.addQuery('user', userid);\n\n           cart.query();\n\n           if (cart.next()) {\n\n                   // we already have a cart all is well\n               cart.deleteMultiple();\n           }\n    }\n})()\n;})();vaInputs.__silent_ScriptedAction_2620c0465cdc494c94b9251f0c69d27b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"Clear cart___2620c0465cdc494c94b9251f0c69d27b\";null;"},{"name":"__silent_TerminateGoal_ee83c7bf2eaa4c05a1621bb617c1e88d","applicable":"vaVars.previous_graph_node==\"Clear cart___2620c0465cdc494c94b9251f0c69d27b\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___ee83c7bf2eaa4c05a1621bb617c1e88d\";vaInputs.__silent_TerminateGoal_ee83c7bf2eaa4c05a1621bb617c1e88d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"End___ee83c7bf2eaa4c05a1621bb617c1e88d\";vaVars.__segment_trigger_1b36cb9e759e4503a6bd631d50ff0844_done=true;null;"},{"name":"__silent_TerminateGoal_ee83c7bf2eaa4c05a1621bb617c1e88d","applicable":"vaVars.previous_graph_node==\"Clear cart___2620c0465cdc494c94b9251f0c69d27b\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___ee83c7bf2eaa4c05a1621bb617c1e88d\";vaInputs.__silent_TerminateGoal_ee83c7bf2eaa4c05a1621bb617c1e88d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"acknowledge_msg":"vaVars.previous_graph_node=\"End___ee83c7bf2eaa4c05a1621bb617c1e88d\";vaVars.__segment_trigger_1b36cb9e759e4503a6bd631d50ff0844_done=true;null;"}],"variables_update":[]}],"roles":[],"active":true,"published":true,"sys_scope":"e18088d2db203300254285184b9619b5","title":"Deploy Shipment Services"}</definition>
        <fields/>
        <is_system_topic>false</is_system_topic>
        <key_phrases>Request Service request buy item catalog purchase order need require pcf deployment</key_phrases>
        <metaphone>P ARTR TPL SRFK NT PRX RKR ATM PKF KTLK RKST</metaphone>
        <name>Deploy Shipment Services</name>
        <published>true</published>
        <roles/>
        <sys_class_name>sys_cs_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2019-06-27 14:26:58</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>f65d5a65db563300254285184b961947</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>Deploy Shipment Services</sys_name>
        <sys_package display_value="appTest" source="x_181622_apptest">e18088d2db203300254285184b9619b5</sys_package>
        <sys_policy/>
        <sys_scope display_value="appTest">e18088d2db203300254285184b9619b5</sys_scope>
        <sys_update_name>sys_cs_topic_f65d5a65db563300254285184b961947</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2019-06-27 14:27:03</sys_updated_on>
        <title>Deploy Shipment Services</title>
        <vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor>
    </sys_cs_topic>
    <sys_variable_value action="delete_multiple" query="document_key=f65d5a65db563300254285184b961947"/>
</record_update>
